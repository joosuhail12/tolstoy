---
title: "Store Tool Credentials"
api: "POST /tools/{toolId}/secrets"
description: "Securely store encrypted credentials for an external tool. These credentials will be used when the tool is executed in workflows."
---

# Store Tool Credentials

Securely store encrypted credentials for an external tool. These credentials will be used when the tool is executed in workflows.

## Authentication

<ParamField header="x-org-id" type="string" required>
  Your organization ID
</ParamField>

<ParamField header="x-user-id" type="string" required>
  Your user ID
</ParamField>

<ParamField path="toolId" type="string" required>
  Tool ID to store credentials for
</ParamField>

<ParamField body="credentials" type="object" required>
  Key-value pairs of credentials (will be encrypted)
</ParamField>

## Examples

<CodeGroup>
```bash cURL
curl -X POST "http://localhost:3000/tools/{toolId}/secrets" \
  -H "Content-Type: application/json" \
  -H "x-org-id: org_abc123def456" \
  -H "x-user-id: user_xyz789abc" \
  -d '{}'
```

```javascript JavaScript SDK
import { TolstoyClient } from '@tolstoy/sdk';

const tolstoy = new TolstoyClient({
  orgId: 'org_abc123def456',
  userId: 'user_xyz789abc'
});

const result = await tolstoy.tools.toolsecretscontroller_storecredentials();
console.log(result);
```
</CodeGroup>

## Responses

<ResponseExample>
```json 201 Created
{
  "toolId": "tool_slack_123",
  "toolName": "Slack Integration",
  "maskedCredentials": {
    "apiKey": "your-***...***key",
    "webhookUrl": "https://***...***XX",
    "botToken": "your-***...***token"
  },
  "createdAt": "2024-01-15T10:30:00.000Z",
  "updatedAt": "2024-01-15T10:30:00.000Z"
}
```
</ResponseExample>

### 400 Bad Request

Invalid credentials data

### 404 Not Found

Tool not found

---

<Snippet file="api-footer.mdx" />
