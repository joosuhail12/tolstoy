---
title: "List Organizations"
openapi: "GET /organizations"
---

# List Organizations

Retrieve all organizations that the authenticated user has access to. This endpoint provides comprehensive organization information including settings, usage statistics, and member counts for administrative and billing purposes.

<RequestExample>

```bash cURL
curl -X GET "https://tolstoy.getpullse.com/organizations?limit=50&include_usage=true" \
  -H "x-org-id: org_1234567890abcdef" \
  -H "x-user-id: user_abcdef1234567890" \
  -H "Content-Type: application/json"
```

```typescript TypeScript
interface ListOrganizationsParams {
  limit?: number;
  cursor?: string;
  include_usage?: boolean;
  include_members?: boolean;
  status?: 'active' | 'suspended' | 'trial';
  sort_by?: 'name' | 'created_at' | 'usage' | 'member_count';
  sort_order?: 'asc' | 'desc';
}

const listOrganizations = async (params: ListOrganizationsParams = {}) => {
  const searchParams = new URLSearchParams();
  
  Object.entries(params).forEach(([key, value]) => {
    if (value !== undefined) {
      searchParams.set(key, value.toString());
    }
  });

  const response = await fetch(
    `https://tolstoy.getpullse.com/organizations?${searchParams}`,
    {
      method: 'GET',
      headers: {
        'x-org-id': 'org_1234567890abcdef',
        'x-user-id': 'user_abcdef1234567890',
        'Content-Type': 'application/json'
      }
    }
  );

  if (!response.ok) {
    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
  }

  return response.json();
};

// Get all active organizations with usage data
const organizations = await listOrganizations({
  status: 'active',
  include_usage: true,
  include_members: true,
  sort_by: 'usage',
  sort_order: 'desc'
});

console.log(`Found ${organizations.data.length} organizations`);
organizations.data.forEach(org => {
  console.log(`${org.name}: ${org.usage_stats.total_executions} executions this month`);
});
```

```python Python
import requests
from typing import Optional, List, Dict, Any
from datetime import datetime, timezone

class OrganizationsClient:
    def __init__(self, org_id: str, user_id: str, base_url: str = "https://tolstoy.getpullse.com"):
        self.org_id = org_id
        self.user_id = user_id
        self.base_url = base_url
        self.headers = {
            'x-org-id': org_id,
            'x-user-id': user_id,
            'Content-Type': 'application/json'
        }

    def list_organizations(
        self,
        limit: int = 20,
        cursor: Optional[str] = None,
        include_usage: bool = True,
        include_members: bool = False,
        status: Optional[str] = None,
        sort_by: str = 'name',
        sort_order: str = 'asc'
    ) -> Dict[str, Any]:
        """List all accessible organizations."""
        
        params = {
            'limit': limit,
            'include_usage': include_usage,
            'include_members': include_members,
            'sort_by': sort_by,
            'sort_order': sort_order
        }
        
        if cursor:
            params['cursor'] = cursor
        if status:
            params['status'] = status

        response = requests.get(
            f"{self.base_url}/organizations",
            headers=self.headers,
            params=params
        )
        response.raise_for_status()
        return response.json()

    def get_organization_summary(self) -> Dict[str, Any]:
        """Get a comprehensive summary of all organizations."""
        response = self.list_organizations(
            limit=100,
            include_usage=True,
            include_members=True
        )
        
        organizations = response['data']
        
        summary = {
            'total_organizations': len(organizations),
            'active_orgs': len([org for org in organizations if org['status'] == 'active']),
            'trial_orgs': len([org for org in organizations if org['status'] == 'trial']),
            'total_members': sum(org.get('member_count', 0) for org in organizations),
            'total_executions': sum(org.get('usage_stats', {}).get('total_executions', 0) for org in organizations),
            'by_plan': {},
            'top_organizations': []
        }
        
        # Group by plan
        for org in organizations:
            plan = org.get('subscription', {}).get('plan', 'unknown')
            summary['by_plan'][plan] = summary['by_plan'].get(plan, 0) + 1
        
        # Top organizations by usage
        sorted_orgs = sorted(
            organizations, 
            key=lambda x: x.get('usage_stats', {}).get('total_executions', 0), 
            reverse=True
        )
        
        summary['top_organizations'] = [
            {
                'name': org['name'],
                'executions': org.get('usage_stats', {}).get('total_executions', 0),
                'members': org.get('member_count', 0),
                'plan': org.get('subscription', {}).get('plan', 'unknown')
            }
            for org in sorted_orgs[:5]
        ]
        
        return summary

    def analyze_organization_health(self) -> Dict[str, Any]:
        """Analyze the health and activity of organizations."""
        response = self.list_organizations(
            limit=100,
            include_usage=True
        )
        
        organizations = response['data']
        health_analysis = {
            'healthy': [],
            'at_risk': [],
            'inactive': [],
            'recommendations': []
        }
        
        for org in organizations:
            usage_stats = org.get('usage_stats', {})
            executions = usage_stats.get('total_executions', 0)
            last_activity = usage_stats.get('last_execution_at')
            
            # Determine health status
            if executions > 1000:  # High usage
                health_analysis['healthy'].append(org['name'])
            elif executions > 100:  # Moderate usage
                if last_activity:
                    # Check if active in last 7 days
                    last_activity_date = datetime.fromisoformat(last_activity.replace('Z', '+00:00'))
                    days_since_activity = (datetime.now(timezone.utc) - last_activity_date).days
                    
                    if days_since_activity > 7:
                        health_analysis['at_risk'].append({
                            'name': org['name'],
                            'days_inactive': days_since_activity,
                            'total_executions': executions
                        })
                    else:
                        health_analysis['healthy'].append(org['name'])
            else:  # Low usage
                health_analysis['inactive'].append({
                    'name': org['name'],
                    'total_executions': executions,
                    'status': org['status']
                })
        
        # Generate recommendations
        if len(health_analysis['at_risk']) > 0:
            health_analysis['recommendations'].append(
                f"Reach out to {len(health_analysis['at_risk'])} at-risk organizations to understand usage patterns"
            )
            
        if len(health_analysis['inactive']) > 0:
            health_analysis['recommendations'].append(
                f"Consider onboarding support for {len(health_analysis['inactive'])} low-activity organizations"
            )
        
        return health_analysis

# Usage examples
client = OrganizationsClient('org_1234567890abcdef', 'user_abcdef1234567890')

# Get organization summary
summary = client.get_organization_summary()
print(f"Managing {summary['total_organizations']} organizations")
print(f"Total executions this month: {summary['total_executions']:,}")
print(f"Plan distribution: {summary['by_plan']}")

# Analyze organization health
health = client.analyze_organization_health()
print(f"\nOrganization Health:")
print(f"- Healthy: {len(health['healthy'])}")
print(f"- At Risk: {len(health['at_risk'])}")
print(f"- Inactive: {len(health['inactive'])}")

if health['recommendations']:
    print("\nRecommendations:")
    for rec in health['recommendations']:
        print(f"- {rec}")
```

```javascript Node.js
const axios = require('axios');

class OrganizationManager {
  constructor(orgId, userId, baseUrl = 'https://tolstoy.getpullse.com') {
    this.orgId = orgId;
    this.userId = userId;
    this.baseUrl = baseUrl;
    this.headers = {
      'x-org-id': orgId,
      'x-user-id': userId,
      'Content-Type': 'application/json'
    };
  }

  async listOrganizations(options = {}) {
    const {
      limit = 20,
      cursor,
      include_usage = true,
      include_members = false,
      status,
      sort_by = 'name',
      sort_order = 'asc'
    } = options;

    const params = new URLSearchParams({
      limit: limit.toString(),
      include_usage: include_usage.toString(),
      include_members: include_members.toString(),
      sort_by,
      sort_order
    });

    if (cursor) params.set('cursor', cursor);
    if (status) params.set('status', status);

    try {
      const response = await axios.get(
        `${this.baseUrl}/organizations`,
        {
          headers: this.headers,
          params: Object.fromEntries(params)
        }
      );

      return response.data;
    } catch (error) {
      if (error.response) {
        throw new Error(`API Error: ${error.response.status} - ${error.response.data?.error?.message || error.message}`);
      }
      throw error;
    }
  }

  async getAllOrganizations(filters = {}) {
    const allOrganizations = [];
    let cursor = null;

    do {
      const response = await this.listOrganizations({
        ...filters,
        cursor,
        limit: 100
      });

      allOrganizations.push(...response.data);
      cursor = response.pagination?.has_more ? response.pagination.cursor : null;
    } while (cursor);

    return allOrganizations;
  }

  async generateUsageReport(timeframe = 'monthly') {
    const organizations = await this.getAllOrganizations({
      include_usage: true,
      include_members: true
    });

    const report = {
      report_date: new Date().toISOString(),
      timeframe,
      summary: {
        total_organizations: organizations.length,
        total_executions: 0,
        total_members: 0,
        total_revenue: 0
      },
      by_plan: {},
      top_performers: [],
      growth_metrics: {}
    };

    // Calculate totals and group by plan
    organizations.forEach(org => {
      const usage = org.usage_stats || {};
      const subscription = org.subscription || {};
      const plan = subscription.plan || 'free';

      report.summary.total_executions += usage.total_executions || 0;
      report.summary.total_members += org.member_count || 0;
      report.summary.total_revenue += subscription.monthly_amount || 0;

      if (!report.by_plan[plan]) {
        report.by_plan[plan] = {
          count: 0,
          executions: 0,
          revenue: 0,
          members: 0
        };
      }

      report.by_plan[plan].count += 1;
      report.by_plan[plan].executions += usage.total_executions || 0;
      report.by_plan[plan].revenue += subscription.monthly_amount || 0;
      report.by_plan[plan].members += org.member_count || 0;
    });

    // Top performers by execution volume
    report.top_performers = organizations
      .sort((a, b) => (b.usage_stats?.total_executions || 0) - (a.usage_stats?.total_executions || 0))
      .slice(0, 10)
      .map(org => ({
        name: org.name,
        executions: org.usage_stats?.total_executions || 0,
        members: org.member_count || 0,
        plan: org.subscription?.plan || 'free',
        revenue: org.subscription?.monthly_amount || 0
      }));

    return report;
  }

  async monitorOrganizationTrends() {
    const organizations = await this.getAllOrganizations({
      include_usage: true
    });

    const trends = {
      rapid_growth: [],
      declining_usage: [],
      churned_candidates: [],
      upgrade_candidates: []
    };

    organizations.forEach(org => {
      const usage = org.usage_stats || {};
      const currentExecutions = usage.total_executions || 0;
      const previousExecutions = usage.previous_month_executions || 0;
      const plan = org.subscription?.plan || 'free';

      // Calculate growth rate
      const growthRate = previousExecutions > 0 
        ? (currentExecutions - previousExecutions) / previousExecutions 
        : currentExecutions > 0 ? 1 : 0;

      if (growthRate > 0.5) { // 50% growth
        trends.rapid_growth.push({
          name: org.name,
          growth_rate: Math.round(growthRate * 100),
          current_executions: currentExecutions,
          plan
        });
      } else if (growthRate < -0.3) { // 30% decline
        trends.declining_usage.push({
          name: org.name,
          decline_rate: Math.abs(Math.round(growthRate * 100)),
          current_executions: currentExecutions,
          plan
        });
      }

      // Identify churn candidates (no activity in 30 days)
      if (usage.days_since_last_execution > 30) {
        trends.churned_candidates.push({
          name: org.name,
          days_inactive: usage.days_since_last_execution,
          plan,
          total_executions: currentExecutions
        });
      }

      // Identify upgrade candidates (high usage on free/basic plan)
      if ((plan === 'free' && currentExecutions > 1000) || 
          (plan === 'starter' && currentExecutions > 5000)) {
        trends.upgrade_candidates.push({
          name: org.name,
          executions: currentExecutions,
          current_plan: plan,
          suggested_plan: plan === 'free' ? 'starter' : 'professional'
        });
      }
    });

    return trends;
  }

  async exportOrganizationData(format = 'json') {
    const organizations = await this.getAllOrganizations({
      include_usage: true,
      include_members: true
    });

    const exportData = organizations.map(org => ({
      id: org.id,
      name: org.name,
      status: org.status,
      created_at: org.created_at,
      member_count: org.member_count || 0,
      plan: org.subscription?.plan || 'free',
      monthly_revenue: org.subscription?.monthly_amount || 0,
      total_executions: org.usage_stats?.total_executions || 0,
      last_activity: org.usage_stats?.last_execution_at,
      tools_count: org.stats?.tools_count || 0,
      flows_count: org.stats?.flows_count || 0,
      actions_count: org.stats?.actions_count || 0
    }));

    if (format === 'csv') {
      const headers = Object.keys(exportData[0]).join(',');
      const rows = exportData.map(row => 
        Object.values(row).map(value => 
          typeof value === 'string' ? `"${value}"` : value || 0
        ).join(',')
      );
      return [headers, ...rows].join('\n');
    }

    return exportData;
  }
}

// Usage examples
const orgManager = new OrganizationManager('org_1234567890abcdef', 'user_abcdef1234567890');

// Generate comprehensive usage report
orgManager.generateUsageReport('monthly')
  .then(report => {
    console.log('Monthly Usage Report:');
    console.log(`- Organizations: ${report.summary.total_organizations}`);
    console.log(`- Total Executions: ${report.summary.total_executions.toLocaleString()}`);
    console.log(`- Monthly Revenue: $${report.summary.total_revenue.toLocaleString()}`);
    
    console.log('\nTop Performers:');
    report.top_performers.slice(0, 5).forEach((org, index) => {
      console.log(`${index + 1}. ${org.name}: ${org.executions.toLocaleString()} executions`);
    });
  });

// Monitor trends and identify opportunities
orgManager.monitorOrganizationTrends()
  .then(trends => {
    console.log('\nOrganization Trends:');
    console.log(`- Rapid Growth: ${trends.rapid_growth.length} orgs`);
    console.log(`- Declining Usage: ${trends.declining_usage.length} orgs`);
    console.log(`- Upgrade Candidates: ${trends.upgrade_candidates.length} orgs`);
    console.log(`- Churn Risk: ${trends.churned_candidates.length} orgs`);
  });
```

</RequestExample>

## Query Parameters

<ParamField query="limit" type="integer" default="20">
Number of organizations to return per page. Maximum value is 100.
</ParamField>

<ParamField query="cursor" type="string">
Pagination cursor for retrieving the next page of results.
</ParamField>

<ParamField query="include_usage" type="boolean" default="false">
Include detailed usage statistics for each organization.
</ParamField>

<ParamField query="include_members" type="boolean" default="false">
Include member count and user activity information.
</ParamField>

<ParamField query="include_subscription" type="boolean" default="false">
Include subscription and billing information (admin access required).
</ParamField>

<ParamField query="status" type="string">
Filter organizations by status:
- `active` - Organizations in good standing
- `trial` - Organizations in trial period
- `suspended` - Organizations with suspended access
- `cancelled` - Cancelled organizations (admin only)
</ParamField>

<ParamField query="sort_by" type="string" default="name">
Sort field. Available options:
- `name` - Sort by organization name
- `created_at` - Sort by creation date
- `usage` - Sort by total executions (requires include_usage=true)
- `member_count` - Sort by number of members (requires include_members=true)
- `revenue` - Sort by monthly revenue (admin only)
</ParamField>

<ParamField query="sort_order" type="string" default="asc">
Sort direction: `asc` (ascending) or `desc` (descending)
</ParamField>

<ParamField query="search" type="string">
Search organizations by name or domain. Case-insensitive partial matching.
</ParamField>

## Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": [
    {
      "id": "org_1234567890abcdef",
      "name": "Acme Corporation",
      "display_name": "Acme Corp",
      "domain": "acme.com",
      "status": "active",
      "tier": "enterprise",
      "settings": {
        "timezone": "America/New_York",
        "date_format": "MM/DD/YYYY",
        "allow_public_workflows": false,
        "require_2fa": true,
        "session_timeout_hours": 24
      },
      "subscription": {
        "plan": "enterprise",
        "status": "active",
        "billing_cycle": "monthly",
        "monthly_amount": 299.00,
        "currency": "USD",
        "next_billing_date": "2024-02-15T00:00:00Z",
        "features": [
          "unlimited_executions",
          "sso_integration",
          "advanced_monitoring",
          "priority_support",
          "custom_integrations"
        ]
      },
      "usage_stats": {
        "current_month": {
          "total_executions": 12450,
          "successful_executions": 12289,
          "failed_executions": 161,
          "total_execution_time_ms": 45678900,
          "avg_execution_time_ms": 3667
        },
        "previous_month": {
          "total_executions": 10230,
          "successful_executions": 10102,
          "failed_executions": 128
        },
        "last_30_days": {
          "daily_averages": {
            "executions": 415,
            "success_rate": 98.7
          }
        },
        "last_execution_at": "2024-01-15T14:30:00Z",
        "most_active_day": "tuesday",
        "peak_hour": 14
      },
      "resource_usage": {
        "tools_count": 15,
        "active_tools": 12,
        "flows_count": 45,
        "active_flows": 38,
        "actions_count": 89,
        "users_count": 25,
        "admin_count": 3
      },
      "member_count": 25,
      "admin_users": [
        {
          "id": "user_admin123",
          "name": "Sarah Johnson",
          "email": "sarah@acme.com",
          "role": "owner"
        },
        {
          "id": "user_admin456", 
          "name": "Mike Chen",
          "email": "mike@acme.com",
          "role": "admin"
        }
      ],
      "created_by": {
        "id": "user_admin123",
        "name": "Sarah Johnson",
        "email": "sarah@acme.com"
      },
      "created_at": "2023-10-15T09:00:00Z",
      "updated_at": "2024-01-14T16:45:00Z",
      "last_active_at": "2024-01-15T14:30:00Z"
    },
    {
      "id": "org_fedcba0987654321",
      "name": "StartupXYZ Inc",
      "display_name": "StartupXYZ",
      "domain": "startupxyz.io",
      "status": "trial",
      "tier": "startup",
      "settings": {
        "timezone": "America/Los_Angeles",
        "date_format": "DD/MM/YYYY", 
        "allow_public_workflows": true,
        "require_2fa": false,
        "session_timeout_hours": 8
      },
      "subscription": {
        "plan": "trial",
        "status": "active",
        "trial_ends_at": "2024-02-01T00:00:00Z",
        "trial_days_remaining": 17,
        "features": [
          "limited_executions",
          "basic_monitoring",
          "email_support"
        ]
      },
      "usage_stats": {
        "current_month": {
          "total_executions": 523,
          "successful_executions": 498,
          "failed_executions": 25,
          "total_execution_time_ms": 1234567,
          "avg_execution_time_ms": 2360
        },
        "previous_month": {
          "total_executions": 89,
          "successful_executions": 84,
          "failed_executions": 5
        },
        "last_execution_at": "2024-01-15T11:20:00Z",
        "growth_rate": 487.6
      },
      "resource_usage": {
        "tools_count": 3,
        "active_tools": 3,
        "flows_count": 8,
        "active_flows": 6,
        "actions_count": 12,
        "users_count": 4,
        "admin_count": 1
      },
      "member_count": 4,
      "admin_users": [
        {
          "id": "user_founder789",
          "name": "Alex Rodriguez",
          "email": "alex@startupxyz.io", 
          "role": "owner"
        }
      ],
      "created_by": {
        "id": "user_founder789",
        "name": "Alex Rodriguez",
        "email": "alex@startupxyz.io"
      },
      "created_at": "2024-01-15T08:00:00Z",
      "updated_at": "2024-01-15T12:30:00Z",
      "last_active_at": "2024-01-15T11:20:00Z"
    }
  ],
  "pagination": {
    "limit": 20,
    "cursor": "eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0xNVQwODowMDowMFoiLCJpZCI6Im9yZ19mZWRjYmEwOTg3NjU0MzIxIn0",
    "has_more": true,
    "total_count": 47
  },
  "metadata": {
    "request_id": "req_orgs123def456",
    "timestamp": "2024-01-15T15:00:00Z",
    "execution_time_ms": 156
  }
}
```

```json Admin Response with Billing
{
  "success": true,
  "data": [
    {
      "id": "org_1234567890abcdef",
      "name": "Acme Corporation",
      "status": "active",
      "subscription": {
        "plan": "enterprise",
        "monthly_amount": 299.00,
        "annual_amount": 2988.00,
        "next_billing_date": "2024-02-15T00:00:00Z",
        "payment_method": {
          "type": "credit_card",
          "last_four": "4242",
          "expires": "12/2025"
        },
        "invoice_history": [
          {
            "id": "inv_123456",
            "amount": 299.00,
            "status": "paid",
            "date": "2024-01-15T00:00:00Z"
          }
        ]
      },
      "usage_limits": {
        "monthly_executions": -1,
        "concurrent_workflows": 100,
        "data_retention_days": 365,
        "api_rate_limit": 10000
      },
      "compliance": {
        "soc2_certified": true,
        "hipaa_enabled": false,
        "data_residency": "us-east-1",
        "audit_logging": true
      }
    }
  ]
}
```

```json Empty Response
{
  "success": true,
  "data": [],
  "pagination": {
    "limit": 20,
    "cursor": null,
    "has_more": false,
    "total_count": 0
  },
  "metadata": {
    "request_id": "req_empty_orgs_123",
    "timestamp": "2024-01-15T15:00:00Z",
    "execution_time_ms": 23
  }
}
```

</ResponseExample>

## Response Fields

### Organization Object

<ResponseField name="id" type="string">
Unique organization identifier (format: `org_` + 16 alphanumeric characters)
</ResponseField>

<ResponseField name="name" type="string">
Official organization name
</ResponseField>

<ResponseField name="display_name" type="string">
Friendly display name for the organization
</ResponseField>

<ResponseField name="domain" type="string">
Primary email domain for the organization
</ResponseField>

<ResponseField name="status" type="string">
Current organization status: `active`, `trial`, `suspended`, or `cancelled`
</ResponseField>

<ResponseField name="tier" type="string">
Organization tier: `startup`, `business`, `enterprise`, or `custom`
</ResponseField>

<ResponseField name="settings" type="object">
Organization configuration settings
  <Expandable title="Settings Fields">
    <ResponseField name="timezone" type="string">Default timezone for the organization</ResponseField>
    <ResponseField name="date_format" type="string">Preferred date format</ResponseField>
    <ResponseField name="allow_public_workflows" type="boolean">Whether public workflows are allowed</ResponseField>
    <ResponseField name="require_2fa" type="boolean">Whether 2FA is required for all users</ResponseField>
    <ResponseField name="session_timeout_hours" type="integer">Session timeout in hours</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="subscription" type="object">
Subscription and billing information
  <Expandable title="Subscription Fields">
    <ResponseField name="plan" type="string">Current subscription plan</ResponseField>
    <ResponseField name="status" type="string">Subscription status</ResponseField>
    <ResponseField name="billing_cycle" type="string">Billing frequency: `monthly` or `annual`</ResponseField>
    <ResponseField name="monthly_amount" type="number">Monthly subscription cost</ResponseField>
    <ResponseField name="currency" type="string">Billing currency (ISO 4217)</ResponseField>
    <ResponseField name="next_billing_date" type="string">Next billing date</ResponseField>
    <ResponseField name="features" type="string[]">Available features for this plan</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="usage_stats" type="object">
Detailed usage statistics (when include_usage=true)
  <Expandable title="Usage Statistics">
    <ResponseField name="current_month" type="object">Current month execution statistics</ResponseField>
    <ResponseField name="previous_month" type="object">Previous month execution statistics</ResponseField>
    <ResponseField name="last_30_days" type="object">Rolling 30-day statistics</ResponseField>
    <ResponseField name="last_execution_at" type="string">Timestamp of most recent execution</ResponseField>
    <ResponseField name="growth_rate" type="number">Month-over-month growth percentage</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="resource_usage" type="object">
Resource utilization summary
  <Expandable title="Resource Usage">
    <ResponseField name="tools_count" type="integer">Total number of configured tools</ResponseField>
    <ResponseField name="active_tools" type="integer">Number of actively used tools</ResponseField>
    <ResponseField name="flows_count" type="integer">Total number of workflows</ResponseField>
    <ResponseField name="active_flows" type="integer">Number of active workflows</ResponseField>
    <ResponseField name="actions_count" type="integer">Total number of actions</ResponseField>
    <ResponseField name="users_count" type="integer">Total number of users</ResponseField>
    <ResponseField name="admin_count" type="integer">Number of admin users</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="member_count" type="integer">
Total number of organization members (when include_members=true)
</ResponseField>

<ResponseField name="admin_users" type="object[]">
List of organization administrators (when include_members=true)
</ResponseField>

<ResponseField name="created_by" type="object">
User who created the organization
</ResponseField>

<ResponseField name="created_at" type="string">
ISO 8601 timestamp when organization was created
</ResponseField>

<ResponseField name="updated_at" type="string">
ISO 8601 timestamp when organization was last updated
</ResponseField>

<ResponseField name="last_active_at" type="string">
ISO 8601 timestamp of last organization activity
</ResponseField>

## Status Codes

<ResponseField name="200" type="Success">
Organizations retrieved successfully
</ResponseField>

<ResponseField name="400" type="Bad Request">
Invalid query parameters
</ResponseField>

<ResponseField name="401" type="Unauthorized">
Missing or invalid authentication
</ResponseField>

<ResponseField name="403" type="Forbidden">
Insufficient permissions to access organizations
</ResponseField>

<ResponseField name="429" type="Too Many Requests">
Rate limit exceeded
</ResponseField>

<ResponseField name="500" type="Internal Server Error">
Server error occurred
</ResponseField>

## Examples

### Organization Analytics

<CodeGroup>

```bash Get Usage Statistics
curl -X GET "https://tolstoy.getpullse.com/organizations?include_usage=true&sort_by=usage&sort_order=desc" \
  -H "x-org-id: org_1234567890abcdef" \
  -H "x-user-id: user_abcdef1234567890"
```

```typescript Usage Analysis
const organizations = await listOrganizations({
  include_usage: true,
  include_members: true,
  sort_by: 'usage',
  sort_order: 'desc'
});

// Calculate metrics
const totalExecutions = organizations.data.reduce(
  (sum, org) => sum + (org.usage_stats?.current_month?.total_executions || 0), 0
);

const averageSuccessRate = organizations.data.reduce(
  (sum, org) => {
    const stats = org.usage_stats?.current_month;
    const rate = stats ? (stats.successful_executions / stats.total_executions) : 0;
    return sum + rate;
  }, 0
) / organizations.data.length;

console.log(`Total executions: ${totalExecutions.toLocaleString()}`);
console.log(`Average success rate: ${(averageSuccessRate * 100).toFixed(1)}%`);
```

</CodeGroup>

### Health Monitoring

<CodeGroup>

```python Organization Health Check
client = OrganizationsClient('org_1234567890abcdef', 'user_abcdef1234567890')

# Get health analysis
health = client.analyze_organization_health()

# Print results
print(f"Organization Health Report:")
print(f"✅ Healthy: {len(health['healthy'])} organizations")
print(f"⚠️  At Risk: {len(health['at_risk'])} organizations")
print(f"❌ Inactive: {len(health['inactive'])} organizations")

# Show at-risk organizations
if health['at_risk']:
    print(f"\nAt-Risk Organizations:")
    for org in health['at_risk']:
        print(f"  - {org['name']}: {org['days_inactive']} days inactive")
```

```javascript Revenue Analysis
async function analyzeRevenue() {
  const organizations = await orgManager.getAllOrganizations({
    include_usage: true,
    include_subscription: true
  });

  const revenueByPlan = {};
  let totalRevenue = 0;

  organizations.forEach(org => {
    const plan = org.subscription?.plan || 'free';
    const revenue = org.subscription?.monthly_amount || 0;
    
    totalRevenue += revenue;
    revenueByPlan[plan] = (revenueByPlan[plan] || 0) + revenue;
  });

  console.log('Revenue Analysis:');
  console.log(`Total Monthly Revenue: $${totalRevenue.toLocaleString()}`);
  console.log('By Plan:');
  Object.entries(revenueByPlan).forEach(([plan, revenue]) => {
    console.log(`  ${plan}: $${revenue.toLocaleString()}`);
  });
}
```

</CodeGroup>

## Best Practices

### Multi-tenant Management

<Accordion title="Organization Isolation">
- Ensure proper tenant isolation when accessing organization data
- Validate user permissions before returning sensitive information
- Use organization-scoped API keys for service-to-service calls
- Implement audit logging for cross-organization access
</Accordion>

<Accordion title="Usage Monitoring">
- Regularly monitor organization usage patterns
- Set up alerts for unusual activity spikes or drops
- Track growth trends to identify expansion opportunities
- Monitor trial organizations for conversion opportunities
</Accordion>

### Data Privacy

<Accordion title="Sensitive Information">
- Only include billing information for authorized users
- Mask payment method details in API responses  
- Implement proper access controls for admin-only data
- Audit access to organization financial information
</Accordion>

<Accordion title="Compliance">
- Respect data residency requirements per organization
- Implement proper data retention policies
- Ensure GDPR/CCPA compliance for user data
- Maintain audit trails for compliance reporting
</Accordion>

## Common Use Cases

### Customer Success Management

Monitor organization health and identify expansion opportunities or churn risks.

### Billing and Revenue Operations

Track subscription metrics, usage patterns, and revenue forecasting.

### Support and Operations

Understand organization structure and usage for better customer support.

### Product Analytics

Analyze feature adoption and usage patterns across different organization segments.

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Get Organization" icon="info" href="/api/organizations/get-organizations-1">
    View detailed information about a specific organization
  </Card>
  <Card title="Create Organization" icon="plus" href="/api/organizations/post-organizations">
    Create a new organization
  </Card>
</CardGroup>

<CardGroup cols={2}>
  <Card title="List Users" icon="users" href="/api/users/get-users">
    Manage organization members and permissions
  </Card>
  <Card title="Organization Settings" icon="cog" href="/api/organizations/put-organizations">
    Update organization configuration and settings
  </Card>
</CardGroup>

---

<Info>
**Pro Tip**: Use the `include_usage=true` parameter with `sort_by=usage` to quickly identify your most active organizations and potential expansion opportunities.
</Info>