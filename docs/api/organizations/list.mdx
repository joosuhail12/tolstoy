---
title: "List Organizations"
description: "Retrieve a paginated list of organizations accessible to your API key"
---

# List Organizations

<Badge variant="success">GET</Badge> `/organizations`

Retrieve a paginated list of organizations accessible to your API key. This endpoint returns organizations that your API key has access to, typically just one organization unless you're using a super-admin key.

## Request

### **HTTP Request**

```http
GET https://api.tolstoy.dev/organizations
```

### **Query Parameters**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `limit` | integer | 20 | Number of organizations per page (1-100) |
| `cursor` | string | - | Pagination cursor for next page |
| `sort` | string | `created_at` | Sort field (`name`, `created_at`, `updated_at`) |
| `order` | string | `desc` | Sort order (`asc` or `desc`) |
| `search` | string | - | Search organizations by name |
| `status` | string | - | Filter by status (`active`, `suspended`) |
| `created_after` | string | - | Filter by creation date (ISO 8601) |
| `created_before` | string | - | Filter by creation date (ISO 8601) |

## Response

### **Success Response**

<CodeGroup>

```json 200 OK
{
  "organizations": [
    {
      "id": "org_123456789",
      "name": "Acme Corporation",
      "display_name": "Acme Corp",
      "status": "active",
      "plan": "professional", 
      "settings": {
        "timezone": "America/New_York",
        "default_retry_policy": {
          "max_retries": 3,
          "backoff_multiplier": 2,
          "retryable_statuses": [500, 502, 503, 504]
        },
        "webhook_settings": {
          "default_timeout": 30000,
          "max_retries": 3,
          "enable_signature_verification": true
        },
        "rate_limits": {
          "api_requests_per_minute": 2000,
          "executions_per_hour": 1000
        }
      },
      "usage": {
        "users_count": 15,
        "tools_count": 8,
        "actions_count": 45,
        "flows_count": 23,
        "executions_this_month": 1250,
        "api_requests_this_month": 45000
      },
      "billing": {
        "plan": "professional",
        "billing_email": "billing@acme.com",
        "subscription_status": "active",
        "current_period_start": "2024-01-01T00:00:00Z",
        "current_period_end": "2024-02-01T00:00:00Z"
      },
      "created_at": "2023-06-15T10:30:00Z",
      "updated_at": "2024-01-15T14:22:30Z"
    },
    {
      "id": "org_987654321",
      "name": "StartupCo",
      "display_name": "StartupCo Inc",
      "status": "active",
      "plan": "starter",
      "settings": {
        "timezone": "America/Los_Angeles",
        "default_retry_policy": {
          "max_retries": 2,
          "backoff_multiplier": 1.5
        }
      },
      "usage": {
        "users_count": 3,
        "tools_count": 2,
        "actions_count": 8,
        "flows_count": 5,
        "executions_this_month": 150,
        "api_requests_this_month": 2500
      },
      "billing": {
        "plan": "starter",
        "billing_email": "founder@startupco.com",
        "subscription_status": "active",
        "current_period_start": "2024-01-15T00:00:00Z",
        "current_period_end": "2024-02-15T00:00:00Z"
      },
      "created_at": "2024-01-01T08:00:00Z",
      "updated_at": "2024-01-15T16:45:00Z"
    }
  ],
  "pagination": {
    "limit": 20,
    "count": 2,
    "has_more": false,
    "next_cursor": null,
    "prev_cursor": null,
    "total_estimate": 2
  }
}
```

</CodeGroup>

### **Organization Object**

| Field | Type | Description |
|-------|------|-------------|
| `id` | string | Unique organization identifier |
| `name` | string | Organization name (used for API references) |
| `display_name` | string | Human-readable organization name |
| `status` | string | Organization status (`active`, `suspended`, `deleted`) |
| `plan` | string | Subscription plan (`free`, `starter`, `professional`, `enterprise`) |
| `settings` | object | Organization configuration settings |
| `usage` | object | Current usage statistics |
| `billing` | object | Billing and subscription information |
| `created_at` | string | ISO 8601 timestamp of creation |
| `updated_at` | string | ISO 8601 timestamp of last update |

### **Settings Object**

| Field | Type | Description |
|-------|------|-------------|
| `timezone` | string | Default timezone for the organization |
| `default_retry_policy` | object | Default retry configuration for failed executions |
| `webhook_settings` | object | Default webhook configuration |
| `rate_limits` | object | Organization-specific rate limits |

### **Usage Object**

| Field | Type | Description |
|-------|------|-------------|
| `users_count` | integer | Number of users in the organization |
| `tools_count` | integer | Number of tools configured |
| `actions_count` | integer | Number of actions created |
| `flows_count` | integer | Number of flows created |
| `executions_this_month` | integer | Workflow executions in current billing period |
| `api_requests_this_month` | integer | API requests in current billing period |

## Examples

### **Basic Request**

<CodeGroup>

```bash cURL
curl -X GET 'https://api.tolstoy.dev/organizations' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json'
```

```javascript JavaScript
const response = await fetch('https://api.tolstoy.dev/organizations', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
console.log(`Found ${data.organizations.length} organizations`);

data.organizations.forEach(org => {
  console.log(`- ${org.display_name} (${org.id})`);
  console.log(`  Status: ${org.status}, Plan: ${org.plan}`);
  console.log(`  Users: ${org.usage.users_count}, Flows: ${org.usage.flows_count}`);
});
```

```python Python
import requests

response = requests.get(
    'https://api.tolstoy.dev/organizations',
    headers={
        'Authorization': f'Bearer {api_key}',
        'Content-Type': 'application/json'
    }
)

data = response.json()
print(f"Found {len(data['organizations'])} organizations")

for org in data['organizations']:
    print(f"- {org['display_name']} ({org['id']})")
    print(f"  Status: {org['status']}, Plan: {org['plan']}")
    print(f"  Users: {org['usage']['users_count']}, Flows: {org['usage']['flows_count']}")
```

```go Go
package main

import (
    "encoding/json"
    "fmt"
    "io"
    "net/http"
)

type Organization struct {
    ID          string `json:"id"`
    Name        string `json:"name"`
    DisplayName string `json:"display_name"`
    Status      string `json:"status"`
    Plan        string `json:"plan"`
    Usage       struct {
        UsersCount int `json:"users_count"`
        FlowsCount int `json:"flows_count"`
    } `json:"usage"`
}

type OrganizationsResponse struct {
    Organizations []Organization `json:"organizations"`
    Pagination    struct {
        Count int `json:"count"`
    } `json:"pagination"`
}

func listOrganizations(apiKey string) (*OrganizationsResponse, error) {
    client := &http.Client{}
    
    req, err := http.NewRequest("GET", "https://api.tolstoy.dev/organizations", nil)
    if err != nil {
        return nil, err
    }
    
    req.Header.Set("Authorization", "Bearer "+apiKey)
    req.Header.Set("Content-Type", "application/json")
    
    resp, err := client.Do(req)
    if err != nil {
        return nil, err
    }
    defer resp.Body.Close()
    
    body, err := io.ReadAll(resp.Body)
    if err != nil {
        return nil, err
    }
    
    var orgsResp OrganizationsResponse
    if err := json.Unmarshal(body, &orgsResp); err != nil {
        return nil, err
    }
    
    return &orgsResp, nil
}

func main() {
    apiKey := "your-api-key"
    orgs, err := listOrganizations(apiKey)
    if err != nil {
        fmt.Printf("Error: %v\n", err)
        return
    }
    
    fmt.Printf("Found %d organizations\n", len(orgs.Organizations))
    for _, org := range orgs.Organizations {
        fmt.Printf("- %s (%s)\n", org.DisplayName, org.ID)
        fmt.Printf("  Status: %s, Plan: %s\n", org.Status, org.Plan)
        fmt.Printf("  Users: %d, Flows: %d\n", org.Usage.UsersCount, org.Usage.FlowsCount)
    }
}
```

</CodeGroup>

### **Filtered Request**

<CodeGroup>

```bash Search by Name
curl -X GET 'https://api.tolstoy.dev/organizations?search=acme&limit=50' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json'
```

```bash Filter by Status and Date
curl -X GET 'https://api.tolstoy.dev/organizations?status=active&created_after=2024-01-01&sort=name&order=asc' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json'
```

```javascript JavaScript Filtering
const params = new URLSearchParams({
  status: 'active',
  created_after: '2024-01-01',
  sort: 'name',
  order: 'asc',
  limit: '50'
});

const response = await fetch(`https://api.tolstoy.dev/organizations?${params}`, {
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
```

```python Python Filtering
params = {
    'status': 'active',
    'created_after': '2024-01-01',
    'sort': 'name',
    'order': 'asc',
    'limit': 50
}

response = requests.get(
    'https://api.tolstoy.dev/organizations',
    headers={'Authorization': f'Bearer {api_key}'},
    params=params
)
```

</CodeGroup>

### **Pagination Example**

<CodeGroup>

```javascript Paginate Through All Organizations
async function getAllOrganizations(apiKey) {
  const organizations = [];
  let cursor = null;
  
  while (true) {
    const params = new URLSearchParams({ limit: '100' });
    if (cursor) {
      params.set('cursor', cursor);
    }
    
    const response = await fetch(`https://api.tolstoy.dev/organizations?${params}`, {
      headers: {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json'
      }
    });
    
    const data = await response.json();
    organizations.push(...data.organizations);
    
    if (!data.pagination.has_more) {
      break;
    }
    
    cursor = data.pagination.next_cursor;
  }
  
  return organizations;
}

// Usage
const allOrgs = await getAllOrganizations(apiKey);
console.log(`Total organizations: ${allOrgs.length}`);
```

```python Python Pagination
def get_all_organizations(api_key):
    organizations = []
    cursor = None
    
    while True:
        params = {'limit': 100}
        if cursor:
            params['cursor'] = cursor
        
        response = requests.get(
            'https://api.tolstoy.dev/organizations',
            headers={'Authorization': f'Bearer {api_key}'},
            params=params
        )
        
        data = response.json()
        organizations.extend(data['organizations'])
        
        if not data['pagination']['has_more']:
            break
        
        cursor = data['pagination']['next_cursor']
    
    return organizations

# Usage
all_orgs = get_all_organizations(api_key)
print(f"Total organizations: {len(all_orgs)}")
```

</CodeGroup>

## Error Responses

<CodeGroup>

```json 401 Unauthorized
{
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Invalid or missing API key",
    "type": "authentication",
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

```json 429 Rate Limited
{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded",
    "type": "rate_limit",
    "limit": 2000,
    "window": 3600,
    "retry_after": 1800,
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

```json 500 Server Error
{
  "error": {
    "code": "INTERNAL_SERVER_ERROR",
    "message": "An internal server error occurred",
    "type": "server_error",
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

</CodeGroup>

## Usage Notes

### **Access Control**

- Most API keys only have access to a single organization
- Super-admin keys can access multiple organizations
- Organization data includes sensitive billing information
- Usage statistics are updated in near real-time

### **Performance Considerations**

- Use appropriate page sizes (default 20, max 100)
- Filter results to reduce response size
- Cache organization data as it doesn't change frequently
- Monitor rate limits for high-frequency requests

### **Common Use Cases**

<Tabs>
  <Tab title="Dashboard Overview">
    ```javascript
    // Get current organization with usage stats
    const orgs = await fetch('https://api.tolstoy.dev/organizations?limit=1', {
      headers: { 'Authorization': `Bearer ${apiKey}` }
    }).then(r => r.json());
    
    const currentOrg = orgs.organizations[0];
    console.log('Current Usage:', currentOrg.usage);
    console.log('Rate Limits:', currentOrg.settings.rate_limits);
    ```
  </Tab>
  
  <Tab title="Multi-Org Management">
    ```javascript
    // List all organizations (super-admin key required)
    const allOrgs = await getAllOrganizations(superAdminKey);
    
    // Group by plan
    const byPlan = allOrgs.reduce((acc, org) => {
      acc[org.plan] = (acc[org.plan] || 0) + 1;
      return acc;
    }, {});
    
    console.log('Organizations by plan:', byPlan);
    ```
  </Tab>
  
  <Tab title="Usage Monitoring">
    ```javascript
    // Monitor organizations approaching limits
    const orgs = await getAllOrganizations(apiKey);
    
    const approaching = orgs.filter(org => {
      const usage = org.usage.api_requests_this_month;
      const limit = org.settings.rate_limits.api_requests_per_minute * 60 * 24 * 30;
      return usage > limit * 0.8; // 80% of limit
    });
    
    console.log(`${approaching.length} organizations approaching limits`);
    ```
  </Tab>
</Tabs>

## SDK Examples

<CodeGroup>

```javascript TypeScript SDK
import { TolstoyClient } from '@tolstoy/sdk';

const client = new TolstoyClient({
  apiKey: process.env.TOLSTOY_API_KEY,
  baseURL: 'https://api.tolstoy.dev'
});

// List organizations
const orgs = await client.organizations.list({
  limit: 50,
  status: 'active'
});

console.log(`Found ${orgs.organizations.length} active organizations`);

// Get organization details
orgs.organizations.forEach(org => {
  console.log(`${org.display_name}:`);
  console.log(`  Plan: ${org.plan}`);
  console.log(`  Users: ${org.usage.users_count}`);
  console.log(`  Executions this month: ${org.usage.executions_this_month}`);
});
```

```python Python SDK
from tolstoy import TolstoyClient

client = TolstoyClient(
    api_key=os.environ['TOLSTOY_API_KEY'],
    base_url='https://api.tolstoy.dev'
)

# List organizations
orgs = client.organizations.list(
    limit=50,
    status='active'
)

print(f"Found {len(orgs.organizations)} active organizations")

# Display organization details
for org in orgs.organizations:
    print(f"{org.display_name}:")
    print(f"  Plan: {org.plan}")
    print(f"  Users: {org.usage.users_count}")
    print(f"  Executions this month: {org.usage.executions_this_month}")
```

</CodeGroup>

## API Playground

Try listing organizations:

<ApiPlayground
  method="GET"
  endpoint="/organizations"
  baseUrl="https://api.tolstoy.dev"
  auth={{
    type: "bearer",
    placeholder: "Your API Key"
  }}
  parameters={[
    {
      name: "limit",
      type: "integer",
      defaultValue: 20,
      description: "Number of organizations per page (1-100)"
    },
    {
      name: "sort",
      type: "select",
      options: ["name", "created_at", "updated_at"],
      defaultValue: "created_at",
      description: "Sort field"
    },
    {
      name: "order",
      type: "select",
      options: ["asc", "desc"],
      defaultValue: "desc",
      description: "Sort order"
    },
    {
      name: "search",
      type: "string",
      placeholder: "Search organizations...",
      description: "Search organizations by name"
    },
    {
      name: "status",
      type: "select",
      options: ["active", "suspended"],
      description: "Filter by status"
    }
  ]}
  sampleResponse={{
    "organizations": [
      {
        "id": "org_123456789",
        "name": "Acme Corporation",
        "display_name": "Acme Corp",
        "status": "active",
        "plan": "professional",
        "usage": {
          "users_count": 15,
          "tools_count": 8,
          "executions_this_month": 1250
        }
      }
    ],
    "pagination": {
      "limit": 20,
      "count": 1,
      "has_more": false
    }
  }}
/>

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Get Organization" icon="building" href="/api/organizations/get">
    Retrieve details for a specific organization
  </Card>
  <Card title="Create Organization" icon="plus" href="/api/organizations/create">
    Create a new organization
  </Card>
  <Card title="Update Organization" icon="pencil" href="/api/organizations/update">
    Update organization settings
  </Card>
  <Card title="Organization Analytics" icon="chart-bar" href="/api/organizations/analytics">
    Get detailed usage analytics
  </Card>
</CardGroup>