---
title: "List Users"
openapi: "GET /users"
---

# List Users

Retrieve users within your organization with detailed information about their roles, permissions, activity, and usage patterns. This endpoint supports comprehensive user management, access control, and activity monitoring.

<RequestExample>

```bash cURL
curl -X GET "https://tolstoy.getpullse.com/users?limit=50&include_activity=true&role=admin" \
  -H "x-org-id: org_1234567890abcdef" \
  -H "x-user-id: user_abcdef1234567890" \
  -H "Content-Type: application/json"
```

```typescript TypeScript
interface ListUsersParams {
  limit?: number;
  cursor?: string;
  include_activity?: boolean;
  include_permissions?: boolean;
  role?: 'owner' | 'admin' | 'member' | 'viewer' | 'api_only';
  status?: 'active' | 'inactive' | 'pending' | 'suspended';
  department?: string;
  last_login_after?: string;
  last_login_before?: string;
  sort_by?: 'name' | 'email' | 'created_at' | 'last_login' | 'activity_score';
  sort_order?: 'asc' | 'desc';
  search?: string;
}

const listUsers = async (params: ListUsersParams = {}) => {
  const searchParams = new URLSearchParams();
  
  Object.entries(params).forEach(([key, value]) => {
    if (value !== undefined) {
      searchParams.set(key, value.toString());
    }
  });

  const response = await fetch(
    `https://tolstoy.getpullse.com/users?${searchParams}`,
    {
      method: 'GET',
      headers: {
        'x-org-id': 'org_1234567890abcdef',
        'x-user-id': 'user_abcdef1234567890',
        'Content-Type': 'application/json'
      }
    }
  );

  if (!response.ok) {
    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
  }

  return response.json();
};

// Get all active admin users with activity data
const adminUsers = await listUsers({
  role: 'admin',
  status: 'active',
  include_activity: true,
  include_permissions: true,
  sort_by: 'last_login',
  sort_order: 'desc'
});

console.log(`Found ${adminUsers.data.length} admin users`);
adminUsers.data.forEach(user => {
  console.log(`${user.name} (${user.email}): last login ${user.last_login_at}`);
});

// Search for users by name or email
const searchResults = await listUsers({
  search: 'john',
  include_activity: true,
  limit: 10
});

console.log(`Found ${searchResults.data.length} users matching "john"`);
```

```python Python
import requests
from typing import Optional, List, Dict, Any
from datetime import datetime, timezone, timedelta

class UsersClient:
    def __init__(self, org_id: str, user_id: str, base_url: str = "https://tolstoy.getpullse.com"):
        self.org_id = org_id
        self.user_id = user_id
        self.base_url = base_url
        self.headers = {
            'x-org-id': org_id,
            'x-user-id': user_id,
            'Content-Type': 'application/json'
        }

    def list_users(
        self,
        limit: int = 20,
        cursor: Optional[str] = None,
        include_activity: bool = True,
        include_permissions: bool = False,
        role: Optional[str] = None,
        status: Optional[str] = None,
        department: Optional[str] = None,
        sort_by: str = 'name',
        sort_order: str = 'asc',
        search: Optional[str] = None
    ) -> Dict[str, Any]:
        """List users in the organization."""
        
        params = {
            'limit': limit,
            'include_activity': include_activity,
            'include_permissions': include_permissions,
            'sort_by': sort_by,
            'sort_order': sort_order
        }
        
        if cursor:
            params['cursor'] = cursor
        if role:
            params['role'] = role
        if status:
            params['status'] = status
        if department:
            params['department'] = department
        if search:
            params['search'] = search

        response = requests.get(
            f"{self.base_url}/users",
            headers=self.headers,
            params=params
        )
        response.raise_for_status()
        return response.json()

    def get_all_users(self, **filters) -> List[Dict[str, Any]]:
        """Get all users using pagination."""
        all_users = []
        cursor = None

        while True:
            response = self.list_users(cursor=cursor, **filters)
            all_users.extend(response['data'])
            
            pagination = response.get('pagination', {})
            if not pagination.get('has_more', False):
                break
                
            cursor = pagination.get('cursor')

        return all_users

    def analyze_user_activity(self, days_back: int = 30) -> Dict[str, Any]:
        """Analyze user activity patterns over the specified period."""
        users = self.get_all_users(include_activity=True)
        
        analysis = {
            'total_users': len(users),
            'active_users': 0,
            'inactive_users': 0,
            'highly_active_users': [],
            'dormant_users': [],
            'role_distribution': {},
            'department_activity': {},
            'login_frequency': {
                'daily': 0,
                'weekly': 0,
                'monthly': 0,
                'inactive': 0
            }
        }
        
        cutoff_date = datetime.now(timezone.utc) - timedelta(days=days_back)
        
        for user in users:
            role = user.get('role', 'unknown')
            department = user.get('department', 'unassigned')
            activity = user.get('activity_stats', {})
            
            # Role distribution
            analysis['role_distribution'][role] = analysis['role_distribution'].get(role, 0) + 1
            
            # Department activity
            if department not in analysis['department_activity']:
                analysis['department_activity'][department] = {
                    'total_users': 0,
                    'active_users': 0,
                    'avg_activity_score': 0
                }
            analysis['department_activity'][department]['total_users'] += 1
            
            # Activity analysis
            last_login = user.get('last_login_at')
            if last_login:
                last_login_date = datetime.fromisoformat(last_login.replace('Z', '+00:00'))
                days_since_login = (datetime.now(timezone.utc) - last_login_date).days
                
                if days_since_login <= 1:
                    analysis['login_frequency']['daily'] += 1
                    analysis['active_users'] += 1
                elif days_since_login <= 7:
                    analysis['login_frequency']['weekly'] += 1
                    analysis['active_users'] += 1
                elif days_since_login <= 30:
                    analysis['login_frequency']['monthly'] += 1
                    analysis['active_users'] += 1
                else:
                    analysis['login_frequency']['inactive'] += 1
                    analysis['inactive_users'] += 1
                    
                    analysis['dormant_users'].append({
                        'name': user['name'],
                        'email': user['email'],
                        'days_since_login': days_since_login,
                        'role': role
                    })
            else:
                analysis['inactive_users'] += 1
                analysis['login_frequency']['inactive'] += 1
            
            # High activity users
            activity_score = activity.get('activity_score', 0)
            if activity_score > 80:
                analysis['highly_active_users'].append({
                    'name': user['name'],
                    'email': user['email'],
                    'activity_score': activity_score,
                    'role': role
                })
            
            # Department activity scoring
            if activity_score > 0:
                dept_stats = analysis['department_activity'][department]
                dept_stats['active_users'] += 1
                dept_stats['avg_activity_score'] = (
                    (dept_stats['avg_activity_score'] * (dept_stats['active_users'] - 1) + activity_score)
                    / dept_stats['active_users']
                )
        
        return analysis

    def get_user_permissions_report(self) -> Dict[str, Any]:
        """Generate a comprehensive permissions report."""
        users = self.get_all_users(include_permissions=True)
        
        report = {
            'total_users': len(users),
            'permission_matrix': {},
            'role_permissions': {},
            'over_privileged_users': [],
            'under_privileged_users': [],
            'permission_conflicts': []
        }
        
        # Analyze permissions
        for user in users:
            role = user.get('role', 'unknown')
            permissions = user.get('permissions', {})
            
            # Role-based permission analysis
            if role not in report['role_permissions']:
                report['role_permissions'][role] = {
                    'count': 0,
                    'common_permissions': set(),
                    'users': []
                }
            
            role_info = report['role_permissions'][role]
            role_info['count'] += 1
            role_info['users'].append(user['email'])
            
            # Track individual permissions
            for perm, granted in permissions.items():
                if granted:
                    if perm not in report['permission_matrix']:
                        report['permission_matrix'][perm] = {'granted': 0, 'denied': 0}
                    report['permission_matrix'][perm]['granted'] += 1
                    
                    if role_info['count'] == 1:
                        role_info['common_permissions'].add(perm)
                    elif perm not in role_info['common_permissions']:
                        role_info['common_permissions'].discard(perm)
        
        # Convert sets to lists for JSON serialization
        for role_info in report['role_permissions'].values():
            role_info['common_permissions'] = list(role_info['common_permissions'])
        
        return report

    def monitor_user_security(self) -> Dict[str, Any]:
        """Monitor users for security-related issues."""
        users = self.get_all_users(include_activity=True)
        
        security_report = {
            'total_users': len(users),
            'security_issues': {
                'no_2fa': [],
                'weak_passwords': [],
                'suspicious_activity': [],
                'inactive_admin_accounts': [],
                'multiple_sessions': [],
                'recent_password_changes': []
            },
            'compliance_summary': {
                '2fa_enabled': 0,
                'strong_passwords': 0,
                'recent_activity': 0,
                'proper_role_assignment': 0
            }
        }
        
        for user in users:
            security = user.get('security', {})
            activity = user.get('activity_stats', {})
            role = user.get('role', 'member')
            
            # 2FA Check
            if not security.get('two_factor_enabled', False):
                security_report['security_issues']['no_2fa'].append({
                    'name': user['name'],
                    'email': user['email'],
                    'role': role
                })
            else:
                security_report['compliance_summary']['2fa_enabled'] += 1
            
            # Admin account activity check
            if role in ['admin', 'owner']:
                last_login = user.get('last_login_at')
                if last_login:
                    last_login_date = datetime.fromisoformat(last_login.replace('Z', '+00:00'))
                    days_since_login = (datetime.now(timezone.utc) - last_login_date).days
                    
                    if days_since_login > 30:
                        security_report['security_issues']['inactive_admin_accounts'].append({
                            'name': user['name'],
                            'email': user['email'],
                            'role': role,
                            'days_since_login': days_since_login
                        })
            
            # Multiple active sessions
            active_sessions = security.get('active_sessions', 1)
            if active_sessions > 3:
                security_report['security_issues']['multiple_sessions'].append({
                    'name': user['name'],
                    'email': user['email'],
                    'session_count': active_sessions
                })
            
            # Recent activity check
            activity_score = activity.get('activity_score', 0)
            if activity_score > 50:
                security_report['compliance_summary']['recent_activity'] += 1
        
        return security_report

# Usage examples
client = UsersClient('org_1234567890abcdef', 'user_abcdef1234567890')

# Analyze user activity
activity_analysis = client.analyze_user_activity(days_back=30)
print(f"User Activity Analysis (Last 30 days):")
print(f"- Total Users: {activity_analysis['total_users']}")
print(f"- Active Users: {activity_analysis['active_users']}")
print(f"- Inactive Users: {activity_analysis['inactive_users']}")
print(f"- Role Distribution: {activity_analysis['role_distribution']}")

# Monitor security
security_report = client.monitor_user_security()
print(f"\nSecurity Report:")
print(f"- Users without 2FA: {len(security_report['security_issues']['no_2fa'])}")
print(f"- Inactive Admin Accounts: {len(security_report['security_issues']['inactive_admin_accounts'])}")
```

```javascript Node.js
const axios = require('axios');

class UserManager {
  constructor(orgId, userId, baseUrl = 'https://tolstoy.getpullse.com') {
    this.orgId = orgId;
    this.userId = userId;
    this.baseUrl = baseUrl;
    this.headers = {
      'x-org-id': orgId,
      'x-user-id': userId,
      'Content-Type': 'application/json'
    };
  }

  async listUsers(options = {}) {
    const {
      limit = 20,
      cursor,
      include_activity = true,
      include_permissions = false,
      role,
      status,
      department,
      sort_by = 'name',
      sort_order = 'asc',
      search
    } = options;

    const params = new URLSearchParams({
      limit: limit.toString(),
      include_activity: include_activity.toString(),
      include_permissions: include_permissions.toString(),
      sort_by,
      sort_order
    });

    if (cursor) params.set('cursor', cursor);
    if (role) params.set('role', role);
    if (status) params.set('status', status);
    if (department) params.set('department', department);
    if (search) params.set('search', search);

    try {
      const response = await axios.get(
        `${this.baseUrl}/users`,
        {
          headers: this.headers,
          params: Object.fromEntries(params)
        }
      );

      return response.data;
    } catch (error) {
      if (error.response) {
        throw new Error(`API Error: ${error.response.status} - ${error.response.data?.error?.message || error.message}`);
      }
      throw error;
    }
  }

  async getAllUsers(filters = {}) {
    const allUsers = [];
    let cursor = null;

    do {
      const response = await this.listUsers({
        ...filters,
        cursor,
        limit: 100
      });

      allUsers.push(...response.data);
      cursor = response.pagination?.has_more ? response.pagination.cursor : null;
    } while (cursor);

    return allUsers;
  }

  async generateUserReport() {
    const users = await this.getAllUsers({
      include_activity: true,
      include_permissions: true
    });

    const report = {
      total_users: users.length,
      by_role: {},
      by_department: {},
      by_status: {},
      activity_summary: {
        highly_active: 0,
        moderately_active: 0,
        low_activity: 0,
        inactive: 0
      },
      permission_summary: {},
      recommendations: []
    };

    users.forEach(user => {
      // Role distribution
      const role = user.role || 'unknown';
      report.by_role[role] = (report.by_role[role] || 0) + 1;

      // Department distribution
      const dept = user.department || 'unassigned';
      report.by_department[dept] = (report.by_department[dept] || 0) + 1;

      // Status distribution
      const status = user.status || 'unknown';
      report.by_status[status] = (report.by_status[status] || 0) + 1;

      // Activity scoring
      const activityScore = user.activity_stats?.activity_score || 0;
      if (activityScore > 80) {
        report.activity_summary.highly_active++;
      } else if (activityScore > 50) {
        report.activity_summary.moderately_active++;
      } else if (activityScore > 20) {
        report.activity_summary.low_activity++;
      } else {
        report.activity_summary.inactive++;
      }

      // Permission analysis
      if (user.permissions) {
        Object.keys(user.permissions).forEach(perm => {
          if (!report.permission_summary[perm]) {
            report.permission_summary[perm] = { granted: 0, total: 0 };
          }
          report.permission_summary[perm].total++;
          if (user.permissions[perm]) {
            report.permission_summary[perm].granted++;
          }
        });
      }
    });

    // Generate recommendations
    const inactiveCount = report.activity_summary.inactive;
    if (inactiveCount > 0) {
      report.recommendations.push(
        `${inactiveCount} users have very low activity - consider conducting user engagement review`
      );
    }

    const adminCount = report.by_role.admin || 0;
    const ownerCount = report.by_role.owner || 0;
    if (adminCount + ownerCount > users.length * 0.2) {
      report.recommendations.push(
        'High percentage of admin/owner accounts - review principle of least privilege'
      );
    }

    return report;
  }

  async trackUserGrowth(months = 6) {
    const users = await this.getAllUsers({ include_activity: true });
    const growthData = {};

    users.forEach(user => {
      const createdDate = new Date(user.created_at);
      const monthKey = `${createdDate.getFullYear()}-${String(createdDate.getMonth() + 1).padStart(2, '0')}`;
      
      if (!growthData[monthKey]) {
        growthData[monthKey] = {
          new_users: 0,
          by_role: {},
          by_department: {}
        };
      }

      growthData[monthKey].new_users++;
      
      const role = user.role || 'unknown';
      growthData[monthKey].by_role[role] = (growthData[monthKey].by_role[role] || 0) + 1;
      
      const dept = user.department || 'unassigned';
      growthData[monthKey].by_department[dept] = (growthData[monthKey].by_department[dept] || 0) + 1;
    });

    // Sort by month
    const sortedGrowth = Object.entries(growthData)
      .sort(([a], [b]) => a.localeCompare(b))
      .reduce((acc, [month, data]) => {
        acc[month] = data;
        return acc;
      }, {});

    return sortedGrowth;
  }

  async auditUserAccess() {
    const users = await this.getAllUsers({
      include_permissions: true,
      include_activity: true
    });

    const audit = {
      total_users: users.length,
      findings: {
        over_privileged: [],
        under_utilized: [],
        security_concerns: [],
        inactive_privileged: []
      },
      summary: {
        total_findings: 0,
        high_priority: 0,
        medium_priority: 0,
        low_priority: 0
      }
    };

    users.forEach(user => {
      const role = user.role;
      const permissions = user.permissions || {};
      const activity = user.activity_stats || {};
      const lastLogin = user.last_login_at;
      
      // Check for over-privileged users
      const permissionCount = Object.values(permissions).filter(Boolean).length;
      if (role === 'member' && permissionCount > 10) {
        audit.findings.over_privileged.push({
          name: user.name,
          email: user.email,
          role,
          permission_count: permissionCount,
          priority: 'high'
        });
        audit.summary.high_priority++;
      }

      // Check for under-utilized high-permission users
      if ((role === 'admin' || role === 'owner') && activity.activity_score < 30) {
        audit.findings.under_utilized.push({
          name: user.name,
          email: user.email,
          role,
          activity_score: activity.activity_score,
          priority: 'medium'
        });
        audit.summary.medium_priority++;
      }

      // Check for inactive privileged accounts
      if ((role === 'admin' || role === 'owner') && lastLogin) {
        const daysSinceLogin = Math.floor(
          (new Date() - new Date(lastLogin)) / (1000 * 60 * 60 * 24)
        );
        
        if (daysSinceLogin > 90) {
          audit.findings.inactive_privileged.push({
            name: user.name,
            email: user.email,
            role,
            days_since_login: daysSinceLogin,
            priority: 'high'
          });
          audit.summary.high_priority++;
        }
      }
    });

    audit.summary.total_findings = 
      audit.summary.high_priority + 
      audit.summary.medium_priority + 
      audit.summary.low_priority;

    return audit;
  }
}

// Usage examples
const userManager = new UserManager('org_1234567890abcdef', 'user_abcdef1234567890');

// Generate comprehensive user report
userManager.generateUserReport()
  .then(report => {
    console.log('User Management Report:');
    console.log(`- Total Users: ${report.total_users}`);
    console.log(`- By Role: ${JSON.stringify(report.by_role)}`);
    console.log(`- Activity Distribution:`, report.activity_summary);
    
    if (report.recommendations.length > 0) {
      console.log('\nRecommendations:');
      report.recommendations.forEach((rec, index) => {
        console.log(`${index + 1}. ${rec}`);
      });
    }
  });

// Audit user access
userManager.auditUserAccess()
  .then(audit => {
    console.log('\nUser Access Audit:');
    console.log(`- Total Findings: ${audit.summary.total_findings}`);
    console.log(`- High Priority: ${audit.summary.high_priority}`);
    console.log(`- Medium Priority: ${audit.summary.medium_priority}`);
    
    if (audit.findings.over_privileged.length > 0) {
      console.log('\nOver-privileged Users:');
      audit.findings.over_privileged.forEach(user => {
        console.log(`  - ${user.name}: ${user.permission_count} permissions`);
      });
    }
  });
```

</RequestExample>

## Query Parameters

<ParamField query="limit" type="integer" default="20">
Number of users to return per page. Maximum value is 100.
</ParamField>

<ParamField query="cursor" type="string">
Pagination cursor for retrieving the next page of results.
</ParamField>

<ParamField query="include_activity" type="boolean" default="false">
Include detailed activity statistics and usage patterns for each user.
</ParamField>

<ParamField query="include_permissions" type="boolean" default="false">
Include user permissions and role-based access control information.
</ParamField>

<ParamField query="include_security" type="boolean" default="false">
Include security settings and authentication information (admin access required).
</ParamField>

<ParamField query="role" type="string">
Filter users by their role:
- `owner` - Organization owner with full administrative access
- `admin` - Administrator with elevated privileges
- `member` - Standard user with basic workflow access
- `viewer` - Read-only access to workflows and data
- `api_only` - Service account for API access only
</ParamField>

<ParamField query="status" type="string">
Filter users by account status:
- `active` - Users with active accounts
- `inactive` - Users who have not logged in recently
- `pending` - Users with pending invitations
- `suspended` - Suspended user accounts
</ParamField>

<ParamField query="department" type="string">
Filter users by department or team assignment.
</ParamField>

<ParamField query="last_login_after" type="string">
Filter users who logged in after this ISO 8601 timestamp.
</ParamField>

<ParamField query="last_login_before" type="string">
Filter users who logged in before this ISO 8601 timestamp.
</ParamField>

<ParamField query="sort_by" type="string" default="name">
Sort field. Available options:
- `name` - Sort by user's full name
- `email` - Sort by email address
- `created_at` - Sort by account creation date
- `last_login` - Sort by most recent login
- `activity_score` - Sort by user activity level (requires include_activity=true)
- `role` - Sort by user role
</ParamField>

<ParamField query="sort_order" type="string" default="asc">
Sort direction: `asc` (ascending) or `desc` (descending)
</ParamField>

<ParamField query="search" type="string">
Search users by name, email, or department. Case-insensitive partial matching.
</ParamField>

## Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": [
    {
      "id": "user_abcdef1234567890",
      "name": "Sarah Johnson",
      "email": "sarah@acme.com",
      "role": "admin",
      "status": "active",
      "department": "Engineering",
      "title": "Senior DevOps Engineer",
      "avatar_url": "https://cdn.tolstoy.com/avatars/user_abcdef1234567890.jpg",
      "timezone": "America/New_York",
      "language": "en",
      "preferences": {
        "email_notifications": true,
        "slack_notifications": false,
        "desktop_notifications": true,
        "digest_frequency": "weekly"
      },
      "activity_stats": {
        "activity_score": 87,
        "last_30_days": {
          "workflows_created": 5,
          "workflows_executed": 23,
          "actions_created": 8,
          "tools_configured": 2,
          "login_count": 18,
          "active_days": 15
        },
        "all_time": {
          "workflows_created": 42,
          "workflows_executed": 156,
          "actions_created": 31,
          "tools_configured": 7,
          "total_logins": 234
        },
        "favorite_actions": [
          "slack-send-message",
          "github-create-pr",
          "email-send"
        ],
        "most_active_hours": [9, 10, 14, 15, 16]
      },
      "permissions": {
        "workflows_create": true,
        "workflows_execute": true,
        "workflows_delete": true,
        "actions_create": true,
        "actions_manage": true,
        "tools_configure": true,
        "users_invite": true,
        "users_manage": false,
        "organization_settings": false,
        "billing_access": false
      },
      "security": {
        "two_factor_enabled": true,
        "sso_enabled": false,
        "last_password_change": "2024-01-10T09:00:00Z",
        "active_sessions": 2,
        "login_methods": ["password", "2fa"],
        "security_keys_count": 1
      },
      "created_at": "2023-10-15T09:00:00Z",
      "updated_at": "2024-01-15T10:30:00Z",
      "last_login_at": "2024-01-15T14:30:00Z",
      "invited_by": {
        "id": "user_owner123",
        "name": "John Smith",
        "email": "john@acme.com"
      }
    },
    {
      "id": "user_member567890123456",
      "name": "Mike Chen",
      "email": "mike@acme.com", 
      "role": "member",
      "status": "active",
      "department": "Marketing",
      "title": "Marketing Operations Manager",
      "avatar_url": null,
      "timezone": "America/Los_Angeles",
      "language": "en",
      "preferences": {
        "email_notifications": true,
        "slack_notifications": true,
        "desktop_notifications": false,
        "digest_frequency": "daily"
      },
      "activity_stats": {
        "activity_score": 65,
        "last_30_days": {
          "workflows_created": 2,
          "workflows_executed": 12,
          "actions_created": 3,
          "tools_configured": 1,
          "login_count": 22,
          "active_days": 20
        },
        "all_time": {
          "workflows_created": 8,
          "workflows_executed": 45,
          "actions_created": 12,
          "tools_configured": 3,
          "total_logins": 89
        },
        "favorite_actions": [
          "email-send",
          "google-sheets-update",
          "hubspot-create-contact"
        ],
        "most_active_hours": [8, 9, 13, 17, 18]
      },
      "permissions": {
        "workflows_create": true,
        "workflows_execute": true,
        "workflows_delete": false,
        "actions_create": true,
        "actions_manage": false,
        "tools_configure": false,
        "users_invite": false,
        "users_manage": false,
        "organization_settings": false,
        "billing_access": false
      },
      "security": {
        "two_factor_enabled": false,
        "sso_enabled": false,
        "last_password_change": "2023-12-01T10:00:00Z",
        "active_sessions": 1,
        "login_methods": ["password"],
        "security_keys_count": 0
      },
      "created_at": "2023-11-20T14:00:00Z",
      "updated_at": "2024-01-14T09:15:00Z",
      "last_login_at": "2024-01-15T08:45:00Z",
      "invited_by": {
        "id": "user_abcdef1234567890",
        "name": "Sarah Johnson",
        "email": "sarah@acme.com"
      }
    },
    {
      "id": "user_viewer789012345678",
      "name": "Emma Davis",
      "email": "emma@acme.com",
      "role": "viewer",
      "status": "inactive",
      "department": "Finance",
      "title": "Financial Analyst",
      "avatar_url": null,
      "timezone": "America/Chicago",
      "language": "en",
      "preferences": {
        "email_notifications": false,
        "slack_notifications": false,
        "desktop_notifications": false,
        "digest_frequency": "monthly"
      },
      "activity_stats": {
        "activity_score": 12,
        "last_30_days": {
          "workflows_created": 0,
          "workflows_executed": 1,
          "actions_created": 0,
          "tools_configured": 0,
          "login_count": 2,
          "active_days": 2
        },
        "all_time": {
          "workflows_created": 0,
          "workflows_executed": 5,
          "actions_created": 0,
          "tools_configured": 0,
          "total_logins": 15
        },
        "favorite_actions": [],
        "most_active_hours": [9, 10]
      },
      "permissions": {
        "workflows_create": false,
        "workflows_execute": false,
        "workflows_delete": false,
        "actions_create": false,
        "actions_manage": false,
        "tools_configure": false,
        "users_invite": false,
        "users_manage": false,
        "organization_settings": false,
        "billing_access": false
      },
      "security": {
        "two_factor_enabled": false,
        "sso_enabled": true,
        "last_password_change": null,
        "active_sessions": 0,
        "login_methods": ["sso"],
        "security_keys_count": 0
      },
      "created_at": "2023-12-05T11:30:00Z",
      "updated_at": "2024-01-05T16:20:00Z",
      "last_login_at": "2024-01-05T16:20:00Z",
      "invited_by": {
        "id": "user_owner123",
        "name": "John Smith",
        "email": "john@acme.com"
      }
    }
  ],
  "pagination": {
    "limit": 20,
    "cursor": "eyJ1c2VyX2lkIjoidXNlcl92aWV3ZXI3ODkwMTIzNDU2NzgiLCJjcmVhdGVkX2F0IjoiMjAyMy0xMi0wNVQxMTozMDowMFoifQ",
    "has_more": true,
    "total_count": 25
  },
  "metadata": {
    "request_id": "req_users123def456",
    "timestamp": "2024-01-15T15:30:00Z",
    "execution_time_ms": 98
  }
}
```

```json Filtered by Role
{
  "success": true,
  "data": [
    {
      "id": "user_admin123",
      "name": "Sarah Johnson",
      "email": "sarah@acme.com",
      "role": "admin",
      "status": "active",
      "department": "Engineering",
      "last_login_at": "2024-01-15T14:30:00Z",
      "activity_stats": {
        "activity_score": 87,
        "last_30_days": {
          "workflows_created": 5,
          "workflows_executed": 23,
          "login_count": 18
        }
      }
    },
    {
      "id": "user_admin456",
      "name": "David Wilson",
      "email": "david@acme.com",
      "role": "admin",
      "status": "active",
      "department": "Operations",
      "last_login_at": "2024-01-14T16:45:00Z",
      "activity_stats": {
        "activity_score": 72,
        "last_30_days": {
          "workflows_created": 3,
          "workflows_executed": 15,
          "login_count": 12
        }
      }
    }
  ],
  "pagination": {
    "limit": 20,
    "cursor": null,
    "has_more": false,
    "total_count": 2
  },
  "metadata": {
    "request_id": "req_admin_users_789",
    "timestamp": "2024-01-15T15:30:00Z",
    "execution_time_ms": 45,
    "filters_applied": {
      "role": "admin",
      "include_activity": true
    }
  }
}
```

```json Empty Response
{
  "success": true,
  "data": [],
  "pagination": {
    "limit": 20,
    "cursor": null,
    "has_more": false,
    "total_count": 0
  },
  "metadata": {
    "request_id": "req_empty_users_123",
    "timestamp": "2024-01-15T15:30:00Z",
    "execution_time_ms": 18
  }
}
```

</ResponseExample>

## Response Fields

### User Object

<ResponseField name="id" type="string">
Unique user identifier (format: `user_` + 16 alphanumeric characters)
</ResponseField>

<ResponseField name="name" type="string">
User's full name
</ResponseField>

<ResponseField name="email" type="string">
User's email address (unique within organization)
</ResponseField>

<ResponseField name="role" type="string">
User's role: `owner`, `admin`, `member`, `viewer`, or `api_only`
</ResponseField>

<ResponseField name="status" type="string">
Account status: `active`, `inactive`, `pending`, or `suspended`
</ResponseField>

<ResponseField name="department" type="string">
User's department or team assignment
</ResponseField>

<ResponseField name="title" type="string">
User's job title
</ResponseField>

<ResponseField name="avatar_url" type="string">
URL to user's profile picture
</ResponseField>

<ResponseField name="timezone" type="string">
User's timezone (IANA timezone identifier)
</ResponseField>

<ResponseField name="language" type="string">
User's preferred language (ISO 639-1 code)
</ResponseField>

<ResponseField name="preferences" type="object">
User notification and interface preferences
  <Expandable title="Preference Fields">
    <ResponseField name="email_notifications" type="boolean">Enable email notifications</ResponseField>
    <ResponseField name="slack_notifications" type="boolean">Enable Slack notifications</ResponseField>
    <ResponseField name="desktop_notifications" type="boolean">Enable browser notifications</ResponseField>
    <ResponseField name="digest_frequency" type="string">Digest email frequency</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="activity_stats" type="object">
User activity statistics (when include_activity=true)
  <Expandable title="Activity Statistics">
    <ResponseField name="activity_score" type="integer">Overall activity score (0-100)</ResponseField>
    <ResponseField name="last_30_days" type="object">Recent activity metrics</ResponseField>
    <ResponseField name="all_time" type="object">Lifetime activity totals</ResponseField>
    <ResponseField name="favorite_actions" type="string[]">Most frequently used actions</ResponseField>
    <ResponseField name="most_active_hours" type="integer[]">Peak activity hours (0-23)</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="permissions" type="object">
User permissions and access rights (when include_permissions=true)
  <Expandable title="Permission Fields">
    <ResponseField name="workflows_create" type="boolean">Can create workflows</ResponseField>
    <ResponseField name="workflows_execute" type="boolean">Can execute workflows</ResponseField>
    <ResponseField name="workflows_delete" type="boolean">Can delete workflows</ResponseField>
    <ResponseField name="actions_create" type="boolean">Can create actions</ResponseField>
    <ResponseField name="tools_configure" type="boolean">Can configure tools</ResponseField>
    <ResponseField name="users_invite" type="boolean">Can invite users</ResponseField>
    <ResponseField name="users_manage" type="boolean">Can manage user accounts</ResponseField>
    <ResponseField name="organization_settings" type="boolean">Can modify organization settings</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="security" type="object">
Security settings and authentication information (when include_security=true)
  <Expandable title="Security Fields">
    <ResponseField name="two_factor_enabled" type="boolean">2FA authentication status</ResponseField>
    <ResponseField name="sso_enabled" type="boolean">SSO authentication status</ResponseField>
    <ResponseField name="last_password_change" type="string">Last password change timestamp</ResponseField>
    <ResponseField name="active_sessions" type="integer">Number of active login sessions</ResponseField>
    <ResponseField name="login_methods" type="string[]">Available authentication methods</ResponseField>
    <ResponseField name="security_keys_count" type="integer">Number of registered security keys</ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="created_at" type="string">
ISO 8601 timestamp when user account was created
</ResponseField>

<ResponseField name="updated_at" type="string">
ISO 8601 timestamp when user was last updated
</ResponseField>

<ResponseField name="last_login_at" type="string">
ISO 8601 timestamp of user's most recent login
</ResponseField>

<ResponseField name="invited_by" type="object">
User who invited this user to the organization
</ResponseField>

## Status Codes

<ResponseField name="200" type="Success">
Users retrieved successfully
</ResponseField>

<ResponseField name="400" type="Bad Request">
Invalid query parameters
</ResponseField>

<ResponseField name="401" type="Unauthorized">
Missing or invalid authentication
</ResponseField>

<ResponseField name="403" type="Forbidden">
Insufficient permissions to access user information
</ResponseField>

<ResponseField name="429" type="Too Many Requests">
Rate limit exceeded
</ResponseField>

<ResponseField name="500" type="Internal Server Error">
Server error occurred
</ResponseField>

## Examples

### User Activity Analysis

<CodeGroup>

```bash Get Active Users
curl -X GET "https://tolstoy.getpullse.com/users?include_activity=true&sort_by=activity_score&sort_order=desc" \
  -H "x-org-id: org_1234567890abcdef" \
  -H "x-user-id: user_abcdef1234567890"
```

```typescript Activity-Based Filtering
const activeUsers = await listUsers({
  include_activity: true,
  sort_by: 'activity_score',
  sort_order: 'desc',
  limit: 10
});

// Identify highly active users
const highlyActive = activeUsers.data.filter(user => 
  user.activity_stats?.activity_score > 80
);

console.log(`Found ${highlyActive.length} highly active users:`);
highlyActive.forEach(user => {
  const stats = user.activity_stats.last_30_days;
  console.log(`${user.name}: ${stats.workflows_executed} executions, ${stats.login_count} logins`);
});

// Find inactive users who might need engagement
const inactive = activeUsers.data.filter(user => 
  user.activity_stats?.activity_score < 20
);

console.log(`\n${inactive.length} users with low activity may need engagement`);
```

</CodeGroup>

### Permission Auditing

<CodeGroup>

```python Permission Analysis
client = UsersClient('org_1234567890abcdef', 'user_abcdef1234567890')

# Generate permissions report
permissions_report = client.get_user_permissions_report()

print("Permission Audit Report:")
print(f"- Total Users: {permissions_report['total_users']}")

# Show most common permissions
print("\nMost Granted Permissions:")
sorted_perms = sorted(
    permissions_report['permission_matrix'].items(),
    key=lambda x: x[1]['granted'],
    reverse=True
)

for perm, stats in sorted_perms[:5]:
    percentage = (stats['granted'] / permissions_report['total_users']) * 100
    print(f"  {perm}: {stats['granted']} users ({percentage:.1f}%)")
```

```javascript Security Monitoring
async function monitorUserSecurity() {
  const users = await userManager.getAllUsers({
    include_security: true,
    include_activity: true
  });

  const securityIssues = {
    no_2fa: [],
    inactive_admin: [],
    multiple_sessions: [],
    old_passwords: []
  };

  users.forEach(user => {
    // Check 2FA status
    if (!user.security?.two_factor_enabled) {
      securityIssues.no_2fa.push(user);
    }

    // Check inactive admin accounts
    if (['admin', 'owner'].includes(user.role)) {
      const daysSinceLogin = Math.floor(
        (new Date() - new Date(user.last_login_at)) / (1000 * 60 * 60 * 24)
      );
      
      if (daysSinceLogin > 30) {
        securityIssues.inactive_admin.push({
          ...user,
          days_since_login: daysSinceLogin
        });
      }
    }

    // Check for multiple sessions
    if (user.security?.active_sessions > 3) {
      securityIssues.multiple_sessions.push(user);
    }

    // Check password age
    if (user.security?.last_password_change) {
      const passwordAge = Math.floor(
        (new Date() - new Date(user.security.last_password_change)) / (1000 * 60 * 60 * 24)
      );
      
      if (passwordAge > 90) {
        securityIssues.old_passwords.push({
          ...user,
          password_age_days: passwordAge
        });
      }
    }
  });

  console.log('Security Monitoring Results:');
  console.log(`- Users without 2FA: ${securityIssues.no_2fa.length}`);
  console.log(`- Inactive admin accounts: ${securityIssues.inactive_admin.length}`);
  console.log(`- Users with multiple sessions: ${securityIssues.multiple_sessions.length}`);
  console.log(`- Users with old passwords: ${securityIssues.old_passwords.length}`);

  return securityIssues;
}
```

</CodeGroup>

## Best Practices

### User Management

<Accordion title="Role-Based Access Control">
- Follow principle of least privilege when assigning roles
- Regularly audit user permissions and remove unnecessary access
- Use department-based grouping for easier permission management
- Monitor role changes and require approval for privilege escalation
</Accordion>

<Accordion title="Activity Monitoring">
- Track user engagement patterns to identify training needs
- Set up alerts for unusual activity patterns or security concerns
- Use activity scores to identify power users and potential champions
- Monitor inactive accounts and implement regular cleanup procedures
</Accordion>

### Security Management

<Accordion title="Authentication Security">
- Encourage or require 2FA for all users, especially administrators
- Monitor login patterns for suspicious activity
- Implement session management policies
- Regular password rotation reminders
</Accordion>

<Accordion title="Access Auditing">
- Perform regular access reviews, especially for privileged accounts
- Track permission changes and maintain audit trails
- Monitor cross-departmental access patterns
- Implement automated alerts for security policy violations
</Accordion>

## Common Use Cases

### User Onboarding

Streamline new user setup with role-based permission templates and department assignments.

### Access Management

Monitor and manage user permissions across workflows, tools, and organizational resources.

### Security Compliance

Maintain security standards through 2FA enforcement, session monitoring, and access auditing.

### Team Analytics

Understand team productivity patterns and identify opportunities for workflow optimization.

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Get User" icon="info" href="/api/users/get-users-1">
    View detailed information about a specific user
  </Card>
  <Card title="Create User" icon="plus" href="/api/users/post-users">
    Add a new user to the organization
  </Card>
</CardGroup>

<CardGroup cols={2}>
  <Card title="User Permissions" icon="shield" href="/api/users/put-users-permissions">
    Manage user roles and permissions
  </Card>
  <Card title="User Activity" icon="activity" href="/api/users/get-users-activity">
    View detailed user activity and usage analytics
  </Card>
</CardGroup>

---

<Info>
**Pro Tip**: Use `include_activity=true` with `sort_by=activity_score` to quickly identify your most engaged users and those who might need additional support or training.
</Info>