---
title: "Get Flow"
description: "Retrieve details for a specific flow"
---

# Get Flow

<Badge variant="success">GET</Badge> `/flows/{flow_id}`

Retrieve detailed information about a specific flow by its ID, including configuration, steps, and execution statistics.

## Request

### **HTTP Request**

```http
GET https://api.tolstoy.dev/flows/{flow_id}
```

### **Path Parameters**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `flow_id` | string | Yes | The unique identifier of the flow |

### **Query Parameters**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `include_statistics` | boolean | true | Include execution statistics |
| `include_versions` | boolean | false | Include version history |
| `include_executions` | boolean | false | Include recent executions |

## Response

### **Success Response**

<CodeGroup>

```json 200 OK
{
  "flow": {
    "id": "flow_xyz789abc123",
    "name": "customer_onboarding",
    "display_name": "Customer Onboarding Flow",
    "description": "Automated customer onboarding workflow with email notifications and CRM updates",
    "status": "active",
    "version": "3.2.0",
    "trigger": {
      "type": "webhook",
      "config": {
        "endpoint": "/webhooks/new-customer",
        "method": "POST",
        "authentication": "signature",
        "secret_name": "WEBHOOK_SECRET",
        "retry_policy": {
          "max_retries": 3,
          "backoff_multiplier": 2
        }
      },
      "webhook_url": "https://api.tolstoy.dev/webhooks/flow_xyz789abc123/trigger"
    },
    "steps": [
      {
        "id": "step_1",
        "name": "validate_customer",
        "action_id": "act_validate_email",
        "action_name": "Validate Email Address",
        "type": "action",
        "config": {
          "timeout": 5000,
          "error_handling": "continue",
          "retry": {
            "max_attempts": 2,
            "backoff": "linear"
          }
        },
        "input_mapping": {
          "email": "{{trigger.body.email}}",
          "domain_check": true
        },
        "output_mapping": {
          "is_valid": "{{output.valid}}",
          "domain": "{{output.domain}}"
        }
      },
      {
        "id": "step_2",
        "name": "create_crm_record",
        "action_id": "act_create_salesforce_lead",
        "action_name": "Create Salesforce Lead",
        "type": "action",
        "depends_on": ["step_1"],
        "config": {
          "timeout": 10000,
          "error_handling": "retry",
          "condition": "{{steps.step_1.output.is_valid}} == true"
        },
        "input_mapping": {
          "email": "{{trigger.body.email}}",
          "name": "{{trigger.body.name}}",
          "company": "{{trigger.body.company}}",
          "source": "Website Signup"
        }
      },
      {
        "id": "step_3",
        "name": "send_welcome_email",
        "action_id": "act_send_email",
        "action_name": "Send Email",
        "type": "action",
        "depends_on": ["step_1"],
        "config": {
          "parallel": true,
          "skip_on_error": true
        },
        "input_mapping": {
          "to": ["{{trigger.body.email}}"],
          "subject": "Welcome to Tolstoy!",
          "template": "welcome_email",
          "variables": {
            "name": "{{trigger.body.name}}",
            "plan": "{{trigger.body.plan}}"
          }
        }
      }
    ],
    "variables": {
      "customer_email": {
        "type": "string",
        "required": true,
        "validation": {
          "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
        }
      },
      "customer_name": {
        "type": "string",
        "required": true,
        "validation": {
          "min_length": 2,
          "max_length": 100
        }
      },
      "plan_type": {
        "type": "string",
        "default": "starter",
        "validation": {
          "enum": ["starter", "professional", "enterprise"]
        }
      }
    },
    "settings": {
      "timeout": 60000,
      "max_retries": 2,
      "error_notification": {
        "enabled": true,
        "channels": ["email", "slack"],
        "recipients": ["ops-team@example.com"]
      },
      "success_notification": {
        "enabled": false
      },
      "rate_limit": {
        "executions_per_minute": 10,
        "executions_per_hour": 200
      },
      "concurrency": {
        "max_parallel_executions": 5
      }
    },
    "statistics": {
      "total_executions": 3456,
      "successful_executions": 3398,
      "failed_executions": 58,
      "average_duration_ms": 4500,
      "p50_duration_ms": 4200,
      "p95_duration_ms": 6800,
      "p99_duration_ms": 8900,
      "last_executed_at": "2024-01-15T19:30:00Z",
      "executions_last_24h": 142,
      "executions_last_7d": 890,
      "executions_last_30d": 3456,
      "success_rate": 0.9832,
      "error_breakdown": {
        "timeout": 12,
        "validation_error": 23,
        "action_failed": 15,
        "rate_limited": 8
      }
    },
    "versions": [
      {
        "version": "3.2.0",
        "released_at": "2024-01-10T09:00:00Z",
        "released_by": "user_456abc",
        "changes": ["Added parallel execution for email step", "Updated timeout values"]
      },
      {
        "version": "3.1.0",
        "released_at": "2023-12-15T14:00:00Z",
        "released_by": "user_789def",
        "changes": ["Added CRM integration", "Improved error handling"]
      }
    ],
    "recent_executions": [
      {
        "id": "exec_recent123",
        "status": "success",
        "started_at": "2024-01-15T19:30:00Z",
        "completed_at": "2024-01-15T19:30:04Z",
        "duration_ms": 4000,
        "trigger_source": "webhook"
      },
      {
        "id": "exec_recent456",
        "status": "failed",
        "started_at": "2024-01-15T18:45:00Z",
        "failed_at": "2024-01-15T18:45:03Z",
        "duration_ms": 3000,
        "error": "Step 'create_crm_record' failed: API rate limit exceeded"
      }
    ],
    "dependencies": {
      "actions": [
        "act_validate_email",
        "act_create_salesforce_lead",
        "act_send_email"
      ],
      "connections": ["conn_salesforce_prod"],
      "secrets": ["WEBHOOK_SECRET", "SALESFORCE_API_KEY"]
    },
    "tags": ["customer", "onboarding", "automation"],
    "created_by": "user_456abc",
    "created_at": "2023-09-20T14:00:00Z",
    "updated_at": "2024-01-10T09:00:00Z",
    "last_modified_by": "user_456abc"
  }
}
```

</CodeGroup>

## Examples

### **Basic Request**

<CodeGroup>

```bash cURL
curl -X GET 'https://api.tolstoy.dev/flows/flow_xyz789abc123' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json'
```

```javascript JavaScript
const flowId = 'flow_xyz789abc123';

const response = await fetch(`https://api.tolstoy.dev/flows/${flowId}`, {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
console.log('Flow details:', data.flow);
console.log(`Steps: ${data.flow.steps.length}`);
console.log(`Success rate: ${(data.flow.statistics.success_rate * 100).toFixed(2)}%`);

// Display step dependencies
data.flow.steps.forEach(step => {
  const deps = step.depends_on ? step.depends_on.join(', ') : 'none';
  console.log(`Step ${step.id} depends on: ${deps}`);
});
```

```python Python
import requests

flow_id = 'flow_xyz789abc123'

response = requests.get(
    f'https://api.tolstoy.dev/flows/{flow_id}',
    headers={
        'Authorization': f'Bearer {api_key}',
        'Content-Type': 'application/json'
    },
    params={
        'include_statistics': True,
        'include_versions': True,
        'include_executions': True
    }
)

if response.status_code == 200:
    flow = response.json()['flow']
    print(f"Flow: {flow['display_name']}")
    print(f"Status: {flow['status']}")
    print(f"Trigger: {flow['trigger']['type']}")
    print(f"Steps: {len(flow['steps'])}")
    print(f"Success rate: {flow['statistics']['success_rate']:.2%}")
    
    # Show recent executions
    for exec in flow.get('recent_executions', []):
        print(f"  - {exec['id']}: {exec['status']} ({exec['duration_ms']}ms)")
```

</CodeGroup>

### **Request with Full Details**

<CodeGroup>

```javascript Include All Details
const flowId = 'flow_xyz789abc123';
const params = new URLSearchParams({
  include_statistics: 'true',
  include_versions: 'true',
  include_executions: 'true'
});

const response = await fetch(
  `https://api.tolstoy.dev/flows/${flowId}?${params}`,
  {
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json'
    }
  }
);

const data = await response.json();

// Analyze flow complexity
const parallelSteps = data.flow.steps.filter(s => s.config?.parallel);
const conditionalSteps = data.flow.steps.filter(s => s.config?.condition);

console.log('Flow Analysis:');
console.log(`Total steps: ${data.flow.steps.length}`);
console.log(`Parallel steps: ${parallelSteps.length}`);
console.log(`Conditional steps: ${conditionalSteps.length}`);

// Version history
console.log('\nVersion History:');
data.flow.versions.forEach(version => {
  console.log(`v${version.version} - ${version.released_at}`);
  version.changes.forEach(change => {
    console.log(`  - ${change}`);
  });
});
```

</CodeGroup>

### **Analyze Flow Performance**

<CodeGroup>

```javascript Performance Analysis
async function analyzeFlowPerformance(flowId, apiKey) {
  const response = await fetch(
    `https://api.tolstoy.dev/flows/${flowId}?include_statistics=true`,
    {
      headers: {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json'
      }
    }
  );
  
  const { flow } = await response.json();
  const stats = flow.statistics;
  
  console.log('Flow Performance Analysis');
  console.log('=========================');
  console.log(`Flow: ${flow.display_name}`);
  console.log(`Total Executions: ${stats.total_executions}`);
  console.log(`Success Rate: ${(stats.success_rate * 100).toFixed(2)}%`);
  console.log('');
  console.log('Duration Metrics:');
  console.log(`  Average: ${stats.average_duration_ms}ms`);
  console.log(`  P50: ${stats.p50_duration_ms}ms`);
  console.log(`  P95: ${stats.p95_duration_ms}ms`);
  console.log(`  P99: ${stats.p99_duration_ms}ms`);
  console.log('');
  console.log('Error Breakdown:');
  Object.entries(stats.error_breakdown).forEach(([type, count]) => {
    const percentage = ((count / stats.failed_executions) * 100).toFixed(1);
    console.log(`  ${type}: ${count} (${percentage}%)`);
  });
  
  // Identify bottlenecks
  if (stats.p99_duration_ms > stats.average_duration_ms * 2) {
    console.log('\n⚠️  Warning: P99 duration is significantly higher than average');
    console.log('    Consider investigating slow executions');
  }
  
  if (stats.error_breakdown.timeout > stats.failed_executions * 0.5) {
    console.log('\n⚠️  Warning: Most failures are timeouts');
    console.log('    Consider increasing timeout settings');
  }
  
  return stats;
}

// Usage
const stats = await analyzeFlowPerformance('flow_xyz789abc123', apiKey);
```

</CodeGroup>

## Error Responses

<CodeGroup>

```json 404 Not Found
{
  "error": {
    "code": "NOT_FOUND",
    "message": "Flow not found",
    "type": "resource",
    "details": {
      "flow_id": "flow_xyz789abc123"
    },
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

```json 403 Forbidden
{
  "error": {
    "code": "FORBIDDEN",
    "message": "Insufficient permissions to view this flow",
    "type": "authorization",
    "required_scopes": ["flows:read"],
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

</CodeGroup>

## API Playground

Try retrieving flow details:

<ApiPlayground
  method="GET"
  endpoint="/flows/{flow_id}"
  baseUrl="https://api.tolstoy.dev"
  auth={{
    type: "bearer",
    placeholder: "Your API Key"
  }}
  pathParams={[
    {
      name: "flow_id",
      placeholder: "flow_xyz789abc123",
      description: "The unique identifier of the flow",
      required: true
    }
  ]}
  parameters={[
    {
      name: "include_statistics",
      type: "boolean",
      defaultValue: true,
      description: "Include execution statistics"
    },
    {
      name: "include_versions",
      type: "boolean",
      defaultValue: false,
      description: "Include version history"
    },
    {
      name: "include_executions",
      type: "boolean",
      defaultValue: false,
      description: "Include recent executions"
    }
  ]}
  sampleResponse={{
    "flow": {
      "id": "flow_xyz789abc123",
      "name": "customer_onboarding",
      "display_name": "Customer Onboarding Flow",
      "status": "active",
      "version": "3.2.0",
      "trigger": { "type": "webhook" },
      "steps": [
        { "id": "step_1", "name": "validate_customer" },
        { "id": "step_2", "name": "create_crm_record" }
      ],
      "statistics": {
        "total_executions": 3456,
        "success_rate": 0.9832,
        "average_duration_ms": 4500
      }
    }
  }}
/>

## Related Endpoints

<CardGroup cols={2}>
  <Card title="List Flows" icon="list" href="/api/flows/list">
    List all flows in your organization
  </Card>
  <Card title="Update Flow" icon="pencil" href="/api/flows/update">
    Update flow configuration
  </Card>
  <Card title="Execute Flow" icon="play" href="/api/flows/execute">
    Trigger flow execution
  </Card>
  <Card title="Flow Logs" icon="scroll" href="/api/flows/logs">
    View flow execution logs
  </Card>
</CardGroup>