---
title: "List Flows"
description: "Retrieve a paginated list of flows in your organization"
---

# List Flows

<Badge variant="success">GET</Badge> `/flows`

Retrieve a paginated list of flows in your organization. Flows are workflows that orchestrate multiple actions in sequence or parallel.

## Request

### **HTTP Request**

```http
GET https://api.tolstoy.dev/flows
```

### **Query Parameters**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `limit` | integer | 20 | Number of flows per page (1-100) |
| `cursor` | string | - | Pagination cursor for next page |
| `sort` | string | `created_at` | Sort field (`name`, `created_at`, `updated_at`, `last_executed`) |
| `order` | string | `desc` | Sort order (`asc` or `desc`) |
| `search` | string | - | Search flows by name or description |
| `status` | string | - | Filter by status (`active`, `inactive`, `draft`, `archived`) |
| `trigger_type` | string | - | Filter by trigger type (`manual`, `webhook`, `schedule`, `event`) |
| `tag` | string | - | Filter by tag |
| `created_after` | string | - | Filter by creation date (ISO 8601) |
| `created_before` | string | - | Filter by creation date (ISO 8601) |

## Response

### **Success Response**

<CodeGroup>

```json 200 OK
{
  "flows": [
    {
      "id": "flow_xyz789abc123",
      "name": "customer_onboarding",
      "display_name": "Customer Onboarding Flow",
      "description": "Automated customer onboarding workflow with email notifications and CRM updates",
      "status": "active",
      "version": "3.2.0",
      "trigger": {
        "type": "webhook",
        "config": {
          "endpoint": "/webhooks/new-customer",
          "method": "POST",
          "authentication": "signature",
          "retry_policy": {
            "max_retries": 3,
            "backoff_multiplier": 2
          }
        }
      },
      "steps": [
        {
          "id": "step_1",
          "name": "validate_customer",
          "action_id": "act_validate_email",
          "type": "action",
          "config": {
            "timeout": 5000,
            "error_handling": "continue"
          }
        },
        {
          "id": "step_2",
          "name": "create_crm_record",
          "action_id": "act_create_salesforce_lead",
          "type": "action",
          "depends_on": ["step_1"],
          "config": {
            "timeout": 10000,
            "error_handling": "retry"
          }
        },
        {
          "id": "step_3",
          "name": "send_welcome_email",
          "action_id": "act_send_email",
          "type": "action",
          "depends_on": ["step_1"],
          "config": {
            "parallel": true
          }
        }
      ],
      "variables": {
        "customer_email": {
          "type": "string",
          "required": true
        },
        "customer_name": {
          "type": "string",
          "required": true
        },
        "plan_type": {
          "type": "string",
          "default": "starter"
        }
      },
      "settings": {
        "timeout": 60000,
        "max_retries": 2,
        "error_notification": true,
        "success_notification": false,
        "rate_limit": {
          "executions_per_minute": 10
        }
      },
      "statistics": {
        "total_executions": 3456,
        "successful_executions": 3398,
        "failed_executions": 58,
        "average_duration_ms": 4500,
        "last_executed_at": "2024-01-15T19:30:00Z",
        "executions_last_24h": 142,
        "success_rate": 0.9832
      },
      "tags": ["customer", "onboarding", "automation"],
      "created_by": "user_456abc",
      "created_at": "2023-09-20T14:00:00Z",
      "updated_at": "2024-01-10T11:30:00Z"
    },
    {
      "id": "flow_def456uvw789",
      "name": "daily_report_generation",
      "display_name": "Daily Report Generation",
      "description": "Generate and distribute daily analytics reports",
      "status": "active",
      "version": "1.5.0",
      "trigger": {
        "type": "schedule",
        "config": {
          "cron": "0 9 * * *",
          "timezone": "America/New_York"
        }
      },
      "steps": [
        {
          "id": "step_1",
          "name": "fetch_data",
          "action_id": "act_query_database",
          "type": "action"
        },
        {
          "id": "step_2",
          "name": "generate_report",
          "action_id": "act_generate_pdf",
          "type": "action",
          "depends_on": ["step_1"]
        },
        {
          "id": "step_3",
          "name": "send_report",
          "action_id": "act_send_email",
          "type": "action",
          "depends_on": ["step_2"]
        }
      ],
      "statistics": {
        "total_executions": 365,
        "successful_executions": 362,
        "failed_executions": 3,
        "average_duration_ms": 12000,
        "last_executed_at": "2024-01-15T09:00:00Z",
        "success_rate": 0.9918
      },
      "tags": ["reporting", "scheduled", "analytics"],
      "created_by": "user_789def",
      "created_at": "2023-01-15T10:00:00Z",
      "updated_at": "2023-12-20T15:45:00Z"
    }
  ],
  "pagination": {
    "limit": 20,
    "count": 2,
    "has_more": true,
    "next_cursor": "eyJsYXN0X2lkIjoiZmxvd19kZWY0NTZ1dnc3ODkiLCJsYXN0X2NyZWF0ZWQiOjE2NzM3Nzg4MDAwMDB9",
    "prev_cursor": null,
    "total_estimate": 28
  }
}
```

</CodeGroup>

### **Flow Object**

| Field | Type | Description |
|-------|------|-------------|
| `id` | string | Unique flow identifier |
| `name` | string | Flow name (used in API and references) |
| `display_name` | string | Human-readable flow name |
| `description` | string | Detailed flow description |
| `status` | string | Flow status (`active`, `inactive`, `draft`, `archived`) |
| `version` | string | Semantic version number |
| `trigger` | object | Trigger configuration |
| `steps` | array | Workflow steps and their configuration |
| `variables` | object | Input variable definitions |
| `settings` | object | Flow-level settings and limits |
| `statistics` | object | Execution statistics |
| `tags` | array | Tags for filtering and organization |
| `created_by` | string | User ID who created the flow |
| `created_at` | string | ISO 8601 timestamp of creation |
| `updated_at` | string | ISO 8601 timestamp of last update |

## Examples

### **Basic Request**

<CodeGroup>

```bash cURL
curl -X GET 'https://api.tolstoy.dev/flows' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json'
```

```javascript JavaScript
const response = await fetch('https://api.tolstoy.dev/flows', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
console.log(`Found ${data.flows.length} flows`);

data.flows.forEach(flow => {
  console.log(`- ${flow.display_name} (${flow.id})`);
  console.log(`  Trigger: ${flow.trigger.type}, Status: ${flow.status}`);
  console.log(`  Steps: ${flow.steps.length}, Success rate: ${(flow.statistics.success_rate * 100).toFixed(2)}%`);
});
```

```python Python
import requests

response = requests.get(
    'https://api.tolstoy.dev/flows',
    headers={
        'Authorization': f'Bearer {api_key}',
        'Content-Type': 'application/json'
    }
)

data = response.json()
print(f"Found {len(data['flows'])} flows")

for flow in data['flows']:
    print(f"- {flow['display_name']} ({flow['id']})")
    print(f"  Trigger: {flow['trigger']['type']}, Status: {flow['status']}")
    print(f"  Executions: {flow['statistics']['total_executions']}")
```

</CodeGroup>

### **Filtered Request**

<CodeGroup>

```bash Filter by Trigger Type
curl -X GET 'https://api.tolstoy.dev/flows?trigger_type=schedule&status=active' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json'
```

```javascript JavaScript with Filters
const params = new URLSearchParams({
  trigger_type: 'webhook',
  status: 'active',
  tag: 'customer',
  sort: 'last_executed',
  order: 'desc',
  limit: '50'
});

const response = await fetch(`https://api.tolstoy.dev/flows?${params}`, {
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
console.log('Active webhook flows:', data.flows.length);
```

</CodeGroup>

### **Pagination Example**

<CodeGroup>

```javascript Paginate Through All Flows
async function getAllFlows(apiKey) {
  const flows = [];
  let cursor = null;
  
  while (true) {
    const params = new URLSearchParams({ limit: '100' });
    if (cursor) {
      params.set('cursor', cursor);
    }
    
    const response = await fetch(`https://api.tolstoy.dev/flows?${params}`, {
      headers: {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json'
      }
    });
    
    const data = await response.json();
    flows.push(...data.flows);
    
    if (!data.pagination.has_more) {
      break;
    }
    
    cursor = data.pagination.next_cursor;
  }
  
  return flows;
}

// Usage
const allFlows = await getAllFlows(apiKey);
console.log(`Total flows: ${allFlows.length}`);

// Analyze by trigger type
const byTrigger = allFlows.reduce((acc, flow) => {
  acc[flow.trigger.type] = (acc[flow.trigger.type] || 0) + 1;
  return acc;
}, {});

console.log('Flows by trigger type:', byTrigger);
```

</CodeGroup>

## Error Responses

<CodeGroup>

```json 401 Unauthorized
{
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Invalid or missing API key",
    "type": "authentication",
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

```json 403 Forbidden
{
  "error": {
    "code": "FORBIDDEN",
    "message": "Insufficient permissions to list flows",
    "type": "authorization",
    "required_scopes": ["flows:read"],
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

</CodeGroup>

## API Playground

Try listing flows:

<ApiPlayground
  method="GET"
  endpoint="/flows"
  baseUrl="https://api.tolstoy.dev"
  auth={{
    type: "bearer",
    placeholder: "Your API Key"
  }}
  parameters={[
    {
      name: "limit",
      type: "integer",
      defaultValue: 20,
      description: "Number of flows per page (1-100)"
    },
    {
      name: "sort",
      type: "select",
      options: ["name", "created_at", "updated_at", "last_executed"],
      defaultValue: "created_at",
      description: "Sort field"
    },
    {
      name: "order",
      type: "select",
      options: ["asc", "desc"],
      defaultValue: "desc",
      description: "Sort order"
    },
    {
      name: "search",
      type: "string",
      placeholder: "Search flows...",
      description: "Search flows by name or description"
    },
    {
      name: "status",
      type: "select",
      options: ["active", "inactive", "draft", "archived"],
      description: "Filter by status"
    },
    {
      name: "trigger_type",
      type: "select",
      options: ["manual", "webhook", "schedule", "event"],
      description: "Filter by trigger type"
    }
  ]}
  sampleResponse={{
    "flows": [
      {
        "id": "flow_xyz789abc123",
        "name": "customer_onboarding",
        "display_name": "Customer Onboarding Flow",
        "status": "active",
        "trigger": { "type": "webhook" },
        "steps": [
          { "id": "step_1", "name": "validate_customer" },
          { "id": "step_2", "name": "create_crm_record" }
        ],
        "statistics": {
          "total_executions": 3456,
          "success_rate": 0.9832
        }
      }
    ],
    "pagination": {
      "limit": 20,
      "count": 1,
      "has_more": false
    }
  }}
/>

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Get Flow" icon="file" href="/api/flows/get">
    Retrieve details for a specific flow
  </Card>
  <Card title="Create Flow" icon="plus" href="/api/flows/create">
    Create a new flow
  </Card>
  <Card title="Execute Flow" icon="play" href="/api/flows/execute">
    Manually trigger a flow execution
  </Card>
  <Card title="Flow Executions" icon="history" href="/api/flows/executions">
    View flow execution history
  </Card>
</CardGroup>