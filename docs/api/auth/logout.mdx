---
title: "Logout"
description: "Invalidate the current session and revoke tokens"
---

# Logout

<Badge variant="warning">POST</Badge> `/auth/logout`

End the current session and invalidate access and refresh tokens.

## Request

### **HTTP Request**

```http
POST https://api.tolstoy.dev/auth/logout
```

### **Headers**

| Header | Required | Description |
|--------|----------|-------------|
| `Authorization` | Yes | Bearer token (access token) |

### **Request Body**

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `refresh_token` | string | No | Refresh token to revoke |
| `logout_all_devices` | boolean | No | Logout from all devices (default: false) |

## Response

### **Success Response**

<CodeGroup>

```json 200 OK
{
  "success": true,
  "message": "Successfully logged out",
  "sessions_terminated": 1,
  "logged_out_at": "2024-01-15T20:00:00Z"
}
```

</CodeGroup>

## Examples

### **Basic Logout**

<CodeGroup>

```bash cURL
curl -X POST 'https://api.tolstoy.dev/auth/logout' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
  -H 'Content-Type: application/json' \
  -d '{
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }'
```

```javascript JavaScript
async function logout() {
  const accessToken = localStorage.getItem('access_token');
  const refreshToken = localStorage.getItem('refresh_token');
  
  try {
    const response = await fetch('https://api.tolstoy.dev/auth/logout', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        refresh_token: refreshToken
      })
    });
    
    if (response.ok) {
      // Clear local storage
      localStorage.removeItem('access_token');
      localStorage.removeItem('refresh_token');
      sessionStorage.clear();
      
      // Clear axios default header
      delete axios.defaults.headers.common['Authorization'];
      
      // Redirect to login
      window.location.href = '/login';
    }
  } catch (error) {
    console.error('Logout error:', error);
    // Clear tokens anyway
    localStorage.clear();
    window.location.href = '/login';
  }
}
```

```python Python
import requests

def logout(access_token, refresh_token=None):
    headers = {
        'Authorization': f'Bearer {access_token}',
        'Content-Type': 'application/json'
    }
    
    data = {}
    if refresh_token:
        data['refresh_token'] = refresh_token
    
    response = requests.post(
        'https://api.tolstoy.dev/auth/logout',
        headers=headers,
        json=data
    )
    
    if response.status_code == 200:
        print("Successfully logged out")
        # Clear stored tokens
        return True
    return False
```

</CodeGroup>

### **Logout All Devices**

<CodeGroup>

```javascript Logout Everywhere
async function logoutAllDevices() {
  const accessToken = localStorage.getItem('access_token');
  
  const response = await fetch('https://api.tolstoy.dev/auth/logout', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      logout_all_devices: true
    })
  });
  
  if (response.ok) {
    const data = await response.json();
    console.log(`Logged out from ${data.sessions_terminated} sessions`);
    
    // Clear local auth data
    localStorage.clear();
    sessionStorage.clear();
    
    // Redirect to login
    window.location.href = '/login';
  }
}
```

</CodeGroup>

## Error Responses

<CodeGroup>

```json 401 Unauthorized
{
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Invalid or missing access token",
    "type": "authentication",
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

</CodeGroup>

## API Playground

Try logging out:

<ApiPlayground
  method="POST"
  endpoint="/auth/logout"
  baseUrl="https://api.tolstoy.dev"
  auth={{
    type: "bearer",
    placeholder: "Your Access Token"
  }}
  body={{
    type: "json",
    schema: {
      refresh_token: {
        type: "string",
        placeholder: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        description: "Refresh token to revoke"
      },
      logout_all_devices: {
        type: "boolean",
        defaultValue: false,
        description: "Logout from all devices"
      }
    }
  }}
  sampleResponse={{
    "success": true,
    "message": "Successfully logged out",
    "sessions_terminated": 1,
    "logged_out_at": "2024-01-15T20:00:00Z"
  }}
/>

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Login" icon="right-to-bracket" href="/api/auth/login">
    Authenticate user
  </Card>
  <Card title="Revoke Token" icon="ban" href="/api/auth/revoke">
    Revoke specific tokens
  </Card>
  <Card title="Sessions" icon="desktop" href="/api/auth/sessions">
    Manage active sessions
  </Card>
  <Card title="Security Settings" icon="shield" href="/api/auth/security">
    Update security settings
  </Card>
</CardGroup>