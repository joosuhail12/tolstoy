---
title: Action Reference
sidebar_position: 3
---

# Action Reference

Actions are reusable components that perform specific operations in your workflows. This reference covers the complete Action model and its properties.

## Action Schema

Every action in Tolstoy follows this standardized schema:

| Field         | Type    | Description                                    |
|--------------|---------|------------------------------------------------|
| `key`        | string  | Unique machine name per org                    |
| `name`       | string  | Human-readable name                            |
| `method`     | string  | HTTP verb                                      |
| `endpoint`   | string  | API path or URL                                |
| `headers`    | object  | Static headers JSON                            |
| `inputSchema`| array   | Parameter metadata (name/type/required/etc.)   |
| `executeIf`  | object  | JSONLogic skip condition                       |
| `version`    | number  | Definition version                             |

## Example Action Definition

```json
{
  "key": "github-create-issue",
  "name": "Create GitHub Issue",
  "method": "POST",
  "endpoint": "/repos/{{org}}/{{repo}}/issues",
  "headers": {
    "Accept": "application/vnd.github.v3+json",
    "Authorization": "Bearer {{auth.github_token}}"
  },
  "inputSchema": [
    {
      "name": "org",
      "type": "string",
      "required": true,
      "description": "GitHub organization name"
    },
    {
      "name": "repo", 
      "type": "string",
      "required": true,
      "description": "Repository name"
    },
    {
      "name": "title",
      "type": "string",
      "required": true,
      "description": "Issue title",
      "control": "text"
    },
    {
      "name": "body",
      "type": "string", 
      "required": false,
      "description": "Issue description",
      "control": "textarea"
    }
  ],
  "version": 1
}
```

## Input Schema

The `inputSchema` array defines the parameters your action accepts. Each parameter object has these properties:

### Parameter Properties

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `name` | string | ✅ | Parameter name (field key) |
| `type` | string | ✅ | Data type |
| `required` | boolean | ✅ | Whether parameter is mandatory |
| `description` | string | ❌ | Human-readable description |
| `control` | string | ❌ | UI control type |
| `default` | any | ❌ | Default value |
| `options` | array | ❌ | Valid options for enum types |
| `validation` | object | ❌ | Validation rules |

### Data Types

**String**
```json
{
  "name": "title",
  "type": "string", 
  "required": true,
  "control": "text",
  "validation": {
    "min": 1,
    "max": 255,
    "pattern": "^[\\w\\s]+$"
  }
}
```

**Number**
```json
{
  "name": "timeout",
  "type": "number",
  "required": false,
  "control": "number",
  "default": 5000,
  "validation": {
    "min": 100,
    "max": 60000
  }
}
```

**Boolean**
```json
{
  "name": "send_notification",
  "type": "boolean",
  "required": false,
  "control": "checkbox",
  "default": true
}
```

**Array**
```json
{
  "name": "labels",
  "type": "array",
  "required": false,
  "control": "multi-select",
  "options": ["bug", "feature", "docs"]
}
```

**Object**
```json
{
  "name": "metadata",
  "type": "object",
  "required": false,
  "control": "json-editor",
  "default": {}
}
```

**Enum**
```json
{
  "name": "priority",
  "type": "enum",
  "required": true,
  "control": "select",
  "options": ["low", "medium", "high", "critical"],
  "default": "medium"
}
```

## Example `inputSchema`

Here's a comprehensive example showing different parameter types:

```json
[
  {
    "name": "title",
    "type": "string",
    "required": true,
    "control": "text",
    "description": "Issue title",
    "validation": {
      "min": 5,
      "max": 100
    }
  },
  {
    "name": "priority",
    "type": "enum",
    "required": true,
    "control": "select", 
    "options": ["low", "medium", "high"],
    "default": "medium"
  },
  {
    "name": "assignees",
    "type": "array",
    "required": false,
    "control": "multi-select",
    "description": "Users to assign"
  },
  {
    "name": "send_email",
    "type": "boolean",
    "required": false,
    "control": "checkbox",
    "default": false
  }
]
```

## UI Controls

The `control` property determines how parameters appear in visual editors:

| Control | Description | Best For |
|---------|-------------|----------|
| `text` | Single-line input | Short strings, IDs |
| `textarea` | Multi-line input | Long text, descriptions |
| `number` | Numeric input | Numbers, counts |
| `checkbox` | Boolean toggle | True/false values |
| `select` | Dropdown menu | Enum values |
| `multi-select` | Multiple choice | Arrays of options |
| `json-editor` | JSON code editor | Complex objects |

## Validation Rules

Add validation to ensure data quality:

```json
{
  "validation": {
    "min": 1,           // Minimum length/value
    "max": 100,         // Maximum length/value  
    "pattern": "^\\w+$", // Regex pattern
    "email": true,      // Email format
    "url": true         // URL format
  }
}
```

## Conditional Execution

Actions can include conditional logic:

```json
{
  "executeIf": {
    "operator": "and",
    "conditions": [
      {
        "operator": "exists",
        "field": "context.user_id"
      },
      {
        "operator": "equals", 
        "field": "context.environment",
        "value": "production"
      }
    ]
  }
}
```

## Built-in Actions

Tolstoy provides many built-in actions:

### HTTP Actions
- `http.get` - GET requests
- `http.post` - POST requests
- `http.put` - PUT requests
- `http.delete` - DELETE requests

### Data Actions  
- `data.transform` - JSON transformation
- `data.filter` - Array filtering
- `data.merge` - Object merging

### Control Actions
- `control.if` - Conditional branching
- `control.for_each` - Array iteration
- `control.parallel` - Parallel execution

### Utility Actions
- `util.wait` - Delay execution
- `util.uuid` - Generate unique IDs
- `util.timestamp` - Current time

## Creating Custom Actions

You can create custom actions for your organization:

```json
{
  "key": "my-custom-action",
  "name": "My Custom Action",
  "method": "POST",
  "endpoint": "https://my-api.com/action",
  "headers": {
    "Content-Type": "application/json"
  },
  "inputSchema": [
    {
      "name": "operation",
      "type": "enum",
      "required": true,
      "options": ["create", "update", "delete"]
    }
  ]
}
```

## Best Practices

- **Single Responsibility**: Each action should do one thing well
- **Idempotency**: Actions should be safe to retry
- **Clear Naming**: Use descriptive names and descriptions
- **Input Validation**: Always validate inputs thoroughly
- **Error Handling**: Provide clear error messages

## Action Registry

Browse available actions in your Tolstoy dashboard:

- **Built-in Actions** - Core actions provided by Tolstoy
- **Integration Actions** - Actions for popular services
- **Custom Actions** - Actions created by your organization
- **Community Actions** - Actions shared by the community

## Next Steps

- Learn about [Flow Definition](/flow-definition) to use actions in workflows
- Explore [Integrations](/integrations) for pre-built actions
- Check the [API Reference](/api) for programmatic action management