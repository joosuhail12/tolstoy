---
title: "Your First CLI Command"
description: "Get started with the Tolstoy CLI by running your first commands and exploring the interface with practical examples."
---

# Your First CLI Command

Now that you have the Tolstoy CLI installed and configured, let's run some commands to explore your workflow automation environment and get familiar with the CLI interface.

## Verify Your Setup

First, let's make sure everything is working correctly:

```bash
# Check CLI version
tolstoy --version

# Verify configuration
tolstoy config test

# Show current configuration
tolstoy config current

# Display help
tolstoy --help
```

Expected output:
```
✅ Configuration test passed
✅ Connected to Tolstoy API
📋 Current profile: default
🌐 API URL: https://tolstoy.getpullse.com
🏢 Organization: Your Organization Name
👤 User: your.email@company.com
```

## Exploring Your Workspace

### List Available Flows

Your first real command - see what workflows are available:

```bash
# List all flows in your organization
tolstoy flows list

# Sample output:
┌────────────────────────┬─────────────────────────┬────────────┬─────────────┬─────────────────┐
│ Flow ID                │ Name                    │ Version    │ Status      │ Last Modified   │
├────────────────────────┼─────────────────────────┼────────────┼─────────────┼─────────────────┤
│ flow_user_onboarding   │ User Onboarding Flow    │ 3          │ Active      │ 2 days ago      │
│ flow_payment_process   │ Payment Processing      │ 1          │ Active      │ 1 week ago      │
│ flow_notification_send │ Notification Sender     │ 2          │ Active      │ 3 days ago      │
└────────────────────────┴─────────────────────────┴────────────┴─────────────┴─────────────────┘
```

### Get Detailed Flow Information

Pick a flow and explore its details:

```bash
# Get details about a specific flow
tolstoy flows get flow_user_onboarding

# Show flow with full configuration
tolstoy flows get flow_user_onboarding --show-config

# View flow in JSON format
tolstoy flows get flow_user_onboarding --output json
```

Sample detailed output:
```
📋 Flow Details: User Onboarding Flow

Basic Information:
• ID: flow_user_onboarding
• Name: User Onboarding Flow  
• Version: 3
• Status: Active
• Created: 2024-01-15 10:30:00 UTC
• Modified: 2024-01-18 14:20:00 UTC

Description:
Comprehensive user onboarding workflow that validates email, creates CRM contact, sends welcome email, and notifies the sales team.

Input Parameters:
┌─────────────┬────────────┬──────────┬─────────────────────────────────┐
│ Parameter   │ Type       │ Required │ Description                     │
├─────────────┼────────────┼──────────┼─────────────────────────────────┤
│ email       │ string     │ Yes      │ User's email address            │
│ name        │ string     │ No       │ User's full name                │
│ company     │ string     │ No       │ Company name                    │
│ source      │ string     │ No       │ Registration source             │
└─────────────┴────────────┴──────────┴─────────────────────────────────┘

Workflow Steps:
1. validate-email: Validate Email Address
2. create-crm-contact: Create CRM Contact  
3. send-welcome-email: Send Welcome Email
4. notify-sales-team: Notify Sales Team

Recent Executions: 47 in the last 7 days (96% success rate)
```

## Your First Workflow Execution

Let's execute a workflow! We'll start with a simple example:

### Execute a Flow

```bash
# Execute a flow with input parameters
tolstoy flows execute flow_user_onboarding \
  --input '{"email": "test@example.com", "name": "Test User", "source": "cli-tutorial"}'

# Alternative: Execute with input from file
echo '{"email": "test@example.com", "name": "Test User"}' > input.json
tolstoy flows execute flow_user_onboarding --input-file input.json
```

You'll see real-time progress:
```
🚀 Executing Flow: User Onboarding Flow (flow_user_onboarding)

📋 Execution Details:
• Execution ID: exec_abc123def456
• Mode: Synchronous
• Started: 2024-01-20 15:30:00 UTC

📝 Input Parameters:
• email: test@example.com
• name: Test User
• source: cli-tutorial

⏳ Execution Progress:
┌────┬─────────────────────────────┬──────────┬──────────┬──────────────┐
│ #  │ Step Name                   │ Status   │ Duration │ Details      │
├────┼─────────────────────────────┼──────────┼──────────┼──────────────┤
│ 1  │ Validate Email Address      │ ✅ Done  │ 0.8s     │ Email valid  │
│ 2  │ Create CRM Contact          │ 🏃 Run   │ -        │ In progress  │
│ 3  │ Send Welcome Email          │ ⏳ Wait  │ -        │ Waiting      │
│ 4  │ Notify Sales Team           │ ⏳ Wait  │ -        │ Waiting      │
└────┴─────────────────────────────┴──────────┴──────────┴──────────────┘

✅ Execution Completed Successfully!

📤 Results:
• crm_contact_id: contact_12345
• welcome_email_sent: true
• sales_team_notified: true

⚡ Total Duration: 15.2 seconds
```

### Asynchronous Execution

For longer workflows, use async mode:

```bash
# Start execution in background
tolstoy flows execute flow_payment_process \
  --input '{"amount": 99.99, "currency": "USD", "customer_id": "cust_12345"}' \
  --async

# Output:
# 🚀 Execution started in background
# 📋 Execution ID: exec_def456ghi789
# 🔍 Track progress: tolstoy flows logs exec_def456ghi789

# Follow the execution in real-time
tolstoy flows logs exec_def456ghi789 --follow
```

## Exploring Actions

Actions are the building blocks of workflows. Let's explore them:

### List Available Actions

```bash
# List all actions
tolstoy actions list

# Filter by category
tolstoy actions list --category communication

# Search for specific actions
tolstoy actions list --search "email"

# Sample output:
┌─────────────────────────┬─────────────────────────┬────────────────┬─────────────────┐
│ Action Key              │ Name                    │ Category       │ Description     │
├─────────────────────────┼─────────────────────────┼────────────────┼─────────────────┤
│ send-email              │ Send Email              │ communication  │ Send emails     │
│ validate-email          │ Validate Email Format   │ validation     │ Validate emails │
│ send-slack-message      │ Send Slack Message      │ communication  │ Send to Slack   │
│ create-crm-contact      │ Create CRM Contact      │ integration    │ Create contacts │
└─────────────────────────┴─────────────────────────┴────────────────┴─────────────────┘
```

### Execute a Single Action

```bash
# Get action details first
tolstoy actions get send-email --show-schema

# Execute a single action
tolstoy actions execute send-email \
  --input '{"to": "test@example.com", "subject": "Test Email", "body": "Hello from Tolstoy CLI!"}'

# Expected output:
# ✅ Action executed successfully
# 📤 Result: {"message_id": "msg_abc123", "status": "sent"}
```

## Working with Tools

Tools represent integrations with external services:

### List Configured Tools

```bash
# List all tools
tolstoy tools list

# Sample output:
┌─────────────────────┬─────────────────────┬─────────────┬──────────────────┐
│ Tool ID             │ Name                │ Type        │ Status           │
├─────────────────────┼─────────────────────┼─────────────┼──────────────────┤
│ slack-team          │ Team Slack          │ slack       │ ✅ Connected     │
│ sendgrid-email      │ SendGrid Email      │ email       │ ✅ Connected     │
│ postgres-main       │ Main Database       │ postgresql  │ ⚠️ Slow          │
│ github-integration  │ GitHub Repo         │ github      │ ✅ Connected     │
└─────────────────────┴─────────────────────┴─────────────┴──────────────────┘
```

### Test Tool Connectivity

```bash
# Test all tools
tolstoy tools test --all

# Test specific tool
tolstoy tools test slack-team

# Check tool health
tolstoy tools health postgres-main --verbose
```

## Viewing Logs and History

Understanding what happened is crucial for workflow automation:

### View Recent Executions

```bash
# List recent flow executions
tolstoy logs list --limit 10

# Filter by status
tolstoy logs list --status failed --since 24h

# View specific execution logs
tolstoy logs get exec_abc123def456 --verbose
```

### Search Logs

```bash
# Search for errors
tolstoy logs search "error" --since 1h

# Search for specific patterns
tolstoy logs search "timeout\|connection" --case-insensitive

# View execution statistics
tolstoy logs stats --since 7d
```

## Understanding CLI Output Formats

The CLI supports multiple output formats:

### Table Format (Default)
```bash
tolstoy flows list
# Produces formatted table (shown in previous examples)
```

### JSON Format
```bash
tolstoy flows list --output json
# Produces:
# [
#   {
#     "id": "flow_user_onboarding",
#     "name": "User Onboarding Flow",
#     "version": 3,
#     "status": "active"
#   }
# ]
```

### YAML Format
```bash
tolstoy flows get flow_user_onboarding --output yaml
# Produces:
# id: flow_user_onboarding
# name: User Onboarding Flow  
# version: 3
# status: active
```

### CSV Format (for data analysis)
```bash
tolstoy logs list --output csv --since 30d > executions.csv
# Creates CSV file for spreadsheet analysis
```

## Common CLI Patterns

### Filtering and Searching

```bash
# Filter flows by status
tolstoy flows list --status active

# Search by name pattern
tolstoy flows list --name "*onboard*"

# Filter by tags
tolstoy flows list --tags production,critical

# Combine filters
tolstoy flows list --status active --tags production --limit 5
```

### Using Pipes and Integration

```bash
# Export data for analysis
tolstoy logs list --output json --since 7d | jq '.[] | .duration_ms' | sort -n

# Count executions by status
tolstoy logs list --output json --since 24h | jq -r '.[] | .status' | sort | uniq -c

# Find slow executions
tolstoy logs list --output json | jq '.[] | select(.duration_ms > 30000)'
```

### Working with Files

```bash
# Save flow configuration
tolstoy flows get flow_user_onboarding --output yaml > user-onboarding.yml

# Execute with input file
tolstoy flows execute flow_user_onboarding --input-file ./inputs/test-user.json

# Batch processing
for input_file in inputs/*.json; do
  tolstoy flows execute flow_user_onboarding --input-file "$input_file"
done
```

## Error Handling and Debugging

### Verbose Mode

When things don't work as expected, use verbose mode:

```bash
# Enable verbose output
tolstoy flows list --verbose

# Show debug information  
tolstoy config test --verbose

# Get detailed error information
tolstoy flows execute problematic_flow --input '{}' --verbose
```

### Getting Help

```bash
# General help
tolstoy --help

# Command-specific help
tolstoy flows --help
tolstoy flows execute --help

# Show all available options
tolstoy flows execute --help | grep -E "^\s*--"
```

## Next Steps - Building Your First Workflow

Now that you're comfortable with basic CLI operations, try creating your first simple workflow:

### 1. Create a Simple Action

```bash
# Create a simple notification action
cat > my-first-action.yml << EOF
key: my-notification
name: My First Notification
description: Send a simple notification
category: communication

inputSchema:
  - name: message
    type: string
    required: true
    description: Message to send

logic:
  type: http
  method: POST
  url: "https://httpbin.org/post"
  headers:
    Content-Type: application/json
  body:
    message: "{{inputs.message}}"
    timestamp: "{{now}}"
EOF

# Create the action
tolstoy actions create my-first-action.yml

# Test it
tolstoy actions execute my-notification --input '{"message": "Hello from my first action!"}'
```

### 2. Create a Simple Flow

```bash
# Create a simple workflow
cat > my-first-flow.yml << EOF
name: My First Flow
description: A simple workflow using my first action
version: 1

inputs:
  - name: user_message
    type: string
    required: true
    description: Message from user

steps:
  - key: send-notification
    name: Send Notification
    action: my-notification
    inputs:
      message: "User says: {{inputs.user_message}}"
EOF

# Create the flow
tolstoy flows create my-first-flow.yml

# Execute it
tolstoy flows execute my-first-flow --input '{"user_message": "This is my first workflow!"}'
```

## What You've Learned

Congratulations! You've successfully:

✅ **Verified your CLI setup** and configuration  
✅ **Explored your workspace** with flows, actions, and tools  
✅ **Executed your first workflow** and monitored its progress  
✅ **Learned basic CLI patterns** for filtering, searching, and formatting  
✅ **Understood error handling** and debugging approaches  
✅ **Created your first action and workflow**  

## Continue Your Journey

<CardGroup cols={2}>
  <Card title="Flow Commands Deep Dive" icon="workflow" href="/cli/commands/flows/overview">
    Master advanced flow management
  </Card>
  <Card title="Action Development" icon="code" href="/cli/commands/actions/index">
    Learn to build custom actions
  </Card>
</CardGroup>

<CardGroup cols={2}>
  <Card title="Automation Scripts" icon="robot" href="/cli/guides/automation-scripts">
    Build powerful automation scripts
  </Card>
  <Card title="CI/CD Integration" icon="infinity" href="/cli/guides/ci-cd-integration">
    Integrate CLI into your deployment pipeline
  </Card>
</CardGroup>

---

*You're now ready to use the Tolstoy CLI effectively! The commands and patterns you've learned here will serve as the foundation for more advanced workflow automation.*